import{u as x}from"./useWidget-JHxrx0nt.js";import{u as B,s as E,r as m,k as W,c as l,l as p,b as r,e as y,m as v,d as D,F as J,x as R,g as d,f as c,t as z,E as F}from"./index-BkQ5gcsT.js";const M={style:{cursor:"pointer"}},q=["onClick","src"],A="",T={__name:"links-widget",props:{widgetObj:{type:Object,required:!0}},async setup(i){let g,u;const b=B(),{formData:f}=E(b),a=i,O=m(),_=m(!1),{loadRemoteData:j}=x(a.widgetObj,a.widgetObj.widgetParams[0].typeOptions.dataJson,O,_);[g,u]=W(()=>j()),await g,u();const k=l(()=>{var e,t;return{backgroundColor:(e=a.widgetObj.widgetParams[2])==null?void 0:e.value,padding:(t=a.widgetObj.widgetParams[3])==null?void 0:t.value}}),P=l(()=>{var e,t,s,o;return{fontSize:(e=a.widgetObj.widgetParams[4])==null?void 0:e.value,fontWeight:(t=a.widgetObj.widgetParams[5])==null?void 0:t.value,color:(s=a.widgetObj.widgetParams[6])==null?void 0:s.value,margin:(o=a.widgetObj.widgetParams[7])==null?void 0:o.value}}),h=l(()=>{var e,t;return{width:(e=a.widgetObj.widgetParams[8])==null?void 0:e.value,height:(t=a.widgetObj.widgetParams[9])==null?void 0:t.value}}),C=e=>{var t;f.value.JsonObj.formConfig.link?(F.emit("linkWidget",e,a.widgetObj.widgetParams.linktype),(t=window.parent)==null||t.postMessage({key:"linkWidget",value:e},"*"),console.log("链接触发",e)):console.log("链接跳转已禁用")};return(e,t)=>{const s=p("el-col"),o=p("el-row");return r(),y(o,{style:{width:"100%"}},{default:v(()=>[(r(!0),D(J,null,R(i.widgetObj.widgetParams[0].typeOptions.dataJson,(n,S)=>{var w;return r(),y(s,{key:S,class:"el-col",span:(w=i.widgetObj.widgetParams[1])==null?void 0:w.value,style:d([k.value,{"text-align":"center"}])},{default:v(()=>[c("div",M,[c("img",{onClick:I=>C(n.linkUrl),style:d(h.value),src:n.iconUrl==""?A:n.iconUrl},null,12,q)]),c("div",{style:d(P.value)},z(n.title),5)]),_:2},1032,["span","style"])}),128))]),_:1})}}};export{T as default};
