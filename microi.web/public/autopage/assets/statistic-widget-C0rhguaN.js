import{_ as F,u as M,s as R,j as r,c,d as n,e as C,l as u,g as w,h as o,F as S,x as V,m as d,O as q,f as _,t as L,N as h,E as T}from"./index-BEtxKORp.js";import{C as $}from"./CommonSearch-DmqtBB2J.js";import"./useWidget-DvvaMyoX.js";import"./axiosInstance-GEMeOA5d.js";const A=["onClick"],G={__name:"statistic-widget",props:{widgetObj:{type:Object,required:!0}},setup(s){const x=M(),{formData:I}=R(x),t=s,B=r(()=>{var e,a;return{backgroundColor:(e=t.widgetObj.widgetParams[2])==null?void 0:e.value,padding:(a=t.widgetObj.widgetParams[3])==null?void 0:a.value}}),E=r(()=>{var e,a,l,g;return{fontSize:(e=t.widgetObj.widgetParams[7])==null?void 0:e.value,fontWeight:(a=t.widgetObj.widgetParams[8])==null?void 0:a.value,color:(l=t.widgetObj.widgetParams[9])==null?void 0:l.value,margin:(g=t.widgetObj.widgetParams[10])==null?void 0:g.value}}),W=r(()=>{var e,a,l;return{fontSize:(e=t.widgetObj.widgetParams[11])==null?void 0:e.value,fontWeight:(a=t.widgetObj.widgetParams[12])==null?void 0:a.value,color:(l=t.widgetObj.widgetParams[13])==null?void 0:l.value}}),b=r(()=>{var e,a;return{color:(e=t.widgetObj.widgetParams[15])==null?void 0:e.value,fontSize:(a=t.widgetObj.widgetParams[16])==null?void 0:a.value}}),z=r(()=>{var e;return(e=t.widgetObj.widgetParams[0].typeOptions.dataJson)!=null&&e.data?t.widgetObj.widgetParams[0].typeOptions.dataJson.data:t.widgetObj.widgetParams[0].typeOptions.dataJson}),D=e=>{var a;I.value.JsonObj.formConfig.link?(T.emit("linkWidget",e,t.widgetObj.widgetParams.linktype),(a=window.parent)==null||a.postMessage({key:"linkWidget",value:e},"*"),console.log("链接触发",e)):console.log("链接跳转已禁用")};return(e,a)=>{const l=c("el-icon"),g=c("el-statistic"),J=c("el-col"),N=c("el-row");return n(),C(S,null,[(n(),u($,{widgetObj:s.widgetObj,searchIndex:18,pickerIndex:19,key:s.widgetObj.widgetOption.number},null,8,["widgetObj"])),w(N,{style:{width:"100%"}},{default:o(()=>[(n(!0),C(S,null,V(z.value,(i,m)=>{var v;return n(),u(J,{key:m,xs:24,class:"el-col",span:(v=s.widgetObj.widgetParams[1])==null?void 0:v.value,style:d(B.value)},{default:o(()=>{var O,j,y,f,p,P,k;return[w(g,{style:d([{backgroundColor:i.bgColor?i.bgColor:(j=(O=s.widgetObj.widgetParams[4])==null?void 0:O.value)==null?void 0:j.split(",")[m>7?0:m]},{padding:(y=s.widgetObj.widgetParams[5])==null?void 0:y.value},{borderRadius:(f=s.widgetObj.widgetParams[6])==null?void 0:f.value},{backgroundImage:i.bgImage?i.bgImage:"url("+((p=s.widgetObj.widgetParams[17])==null?void 0:p.value)+")"}]),"value-style":W.value,value:i.value,precision:(P=s.widgetObj.widgetParams[20])==null?void 0:P.value},q({title:o(()=>[_("div",{onClick:H=>D(i.linkUrl),style:d(E.value)},[_("span",null,L(i.name),1)],12,A)]),_:2},[((k=s.widgetObj.widgetParams[14])==null?void 0:k.value)=="prefix"?{name:"prefix",fn:o(()=>[w(l,{style:d(b.value)},{default:o(()=>[(n(),u(h(i.icon)))]),_:2},1032,["style"])]),key:"0"}:{name:"suffix",fn:o(()=>[w(l,{style:d(b.value)},{default:o(()=>[(n(),u(h(i.icon)))]),_:2},1032,["style"])]),key:"1"}]),1032,["style","value-style","value","precision"])]}),_:2},1032,["span","style"])}),128))]),_:1})],64)}}},Z=F(G,[["__scopeId","data-v-04bae341"]]);export{Z as default};
