import{_ as q,u as F,s as L,l as d,c,d as i,e as k,p as u,g as w,h as n,F as _,z as M,q as r,L as N,f as C,y as R,J as S,E as V}from"./index-MpZPmrPb.js";import{C as T}from"./CommonSearch-B-AeU4nw.js";import"./useWidget-BTJENe1u.js";const $=["onClick"],A={__name:"statistic-widget",props:{widgetObj:{type:Object,required:!0}},setup(s){const h=F(),{formData:x}=L(h),t=s,I=d(()=>{var e,a;return{backgroundColor:(e=t.widgetObj.widgetParams[2])==null?void 0:e.value,padding:(a=t.widgetObj.widgetParams[3])==null?void 0:a.value}}),z=d(()=>{var e,a,o,g;return{fontSize:(e=t.widgetObj.widgetParams[7])==null?void 0:e.value,fontWeight:(a=t.widgetObj.widgetParams[8])==null?void 0:a.value,color:(o=t.widgetObj.widgetParams[9])==null?void 0:o.value,margin:(g=t.widgetObj.widgetParams[10])==null?void 0:g.value}}),B=d(()=>{var e,a,o;return{fontSize:(e=t.widgetObj.widgetParams[11])==null?void 0:e.value,fontWeight:(a=t.widgetObj.widgetParams[12])==null?void 0:a.value,color:(o=t.widgetObj.widgetParams[13])==null?void 0:o.value}}),b=d(()=>{var e,a;return{color:(e=t.widgetObj.widgetParams[15])==null?void 0:e.value,fontSize:(a=t.widgetObj.widgetParams[16])==null?void 0:a.value}}),E=d(()=>{var e;return(e=t.widgetObj.widgetParams[0].typeOptions.dataJson)!=null&&e.data?t.widgetObj.widgetParams[0].typeOptions.dataJson.data:t.widgetObj.widgetParams[0].typeOptions.dataJson}),J=e=>{var a;x.value.JsonObj.formConfig.link?(V.emit("linkWidget",e,t.widgetObj.widgetParams.linktype),(a=window.parent)==null||a.postMessage({key:"linkWidget",value:e},"*"),console.log("链接触发",e)):console.log("链接跳转已禁用")};return(e,a)=>{const o=c("el-icon"),g=c("el-statistic"),W=c("el-col"),D=c("el-row");return i(),k(_,null,[(i(),u(T,{widgetObj:s.widgetObj,searchIndex:18,pickerIndex:19,key:s.widgetObj.widgetOption.number},null,8,["widgetObj"])),w(D,{style:{width:"100%"}},{default:n(()=>[(i(!0),k(_,null,M(E.value,(l,m)=>{var v;return i(),u(W,{key:m,class:"el-col",span:(v=s.widgetObj.widgetParams[1])==null?void 0:v.value,style:r(I.value)},{default:n(()=>{var O,y,j,f,p,P;return[w(g,{style:r([{backgroundColor:l.bgColor?l.bgColor:(y=(O=s.widgetObj.widgetParams[4])==null?void 0:O.value)==null?void 0:y.split(",")[m>7?0:m]},{padding:(j=s.widgetObj.widgetParams[5])==null?void 0:j.value},{borderRadius:(f=s.widgetObj.widgetParams[6])==null?void 0:f.value},{backgroundImage:l.bgImage?l.bgImage:"url("+((p=s.widgetObj.widgetParams[17])==null?void 0:p.value)+")"}]),"value-style":B.value,value:l.value},N({title:n(()=>[C("div",{onClick:G=>J(l.linkUrl),style:r(z.value)},[C("span",null,R(l.name),1)],12,$)]),_:2},[((P=s.widgetObj.widgetParams[14])==null?void 0:P.value)=="prefix"?{name:"prefix",fn:n(()=>[w(o,{style:r(b.value)},{default:n(()=>[(i(),u(S(l.icon)))]),_:2},1032,["style"])]),key:"0"}:{name:"suffix",fn:n(()=>[w(o,{style:r(b.value)},{default:n(()=>[(i(),u(S(l.icon)))]),_:2},1032,["style"])]),key:"1"}]),1032,["style","value-style","value"])]}),_:2},1032,["span","style"])}),128))]),_:1})],64)}}},X=q(A,[["__scopeId","data-v-9eaba6e5"]]);export{X as default};
