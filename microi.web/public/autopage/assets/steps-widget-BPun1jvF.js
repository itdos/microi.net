import{_ as R,u as S,s as V,r as O,k as q,l as c,b as a,e as d,m as o,d as j,F as y,x as b,q as A,t as l,f as p,p as F,E as I}from"./index-D9_ulQ22.js";import{u as T}from"./useWidget-DgnXn-jS.js";const L={class:"description"},M={class:"description",style:{color:"var(--el-text-color-placeholder)"}},$=["onClick"],z={__name:"steps-widget",props:{widgetObj:{type:Object,required:!0}},async setup(e){let g,m;const k=S(),{formData:x}=V(k),u=e,h=O(),P=O(!1),{loadRemoteData:C}=T(u.widgetObj,u.widgetObj.widgetParams[0].typeOptions.dataJson,h,P);[g,m]=q(()=>C()),await g,m();const B=(r,n)=>{var i;x.value.JsonObj.formConfig.link?(I.emit("stepsWidget",r,n),(i=window.parent)==null||i.postMessage({key:"stepsWidget",value:n},"*"),console.log("步骤组件触发连接",r,n)):console.log("链接跳转已禁用")};return(r,n)=>{var _,w,f,v;const i=c("el-timeline-item"),E=c("el-timeline"),J=c("el-step"),W=c("el-steps");return a(),d(W,{space:(_=e.widgetObj.widgetParams[1])==null?void 0:_.value,direction:(w=e.widgetObj.widgetParams[2])==null?void 0:w.value,active:e.widgetObj.widgetParams[0].typeOptions.dataJson.activeIndex,"align-center":(f=e.widgetObj.widgetParams[3])==null?void 0:f.value,simple:(v=e.widgetObj.widgetParams[4])==null?void 0:v.value},{default:o(()=>[(a(!0),j(y,null,b(e.widgetObj.widgetParams[0].typeOptions.dataJson.stepArr,(t,D)=>(a(),d(J,{key:D,status:t.status,icon:t.icon},{title:o(()=>[A(l(t.title)+" ",1),p("div",L,l(t.description),1),p("div",M,l(t.timestamp),1)]),description:o(()=>[F(E,null,{default:o(()=>[(a(!0),j(y,null,b(t.subdata,(s,N)=>(a(),d(i,{key:N,timestamp:s.timestamp,color:s.color},{default:o(()=>[p("span",{class:"subitem",onClick:G=>B(s.id,s.router)},l(s.content),9,$)]),_:2},1032,["timestamp","color"]))),128))]),_:2},1024)]),_:2},1032,["status","icon"]))),128))]),_:1},8,["space","direction","active","align-center","simple"])}}},Q=R(z,[["__scopeId","data-v-02fdf929"]]);export{Q as default};
