import{u as x}from"./useWidget-z_-wv8yD.js";import{u as B,s as E,r as m,w as W,l,c as p,d as r,p as y,h as v,e as z,F as D,z as J,q as d,f as c,y as R,E as q}from"./index-DtaghpX1.js";import"./axiosInstance-C_AjIhOQ.js";const F={style:{cursor:"pointer"}},M=["onClick","src"],A="",U={__name:"links-widget",props:{widgetObj:{type:Object,required:!0}},async setup(i){let g,u;const f=B(),{formData:O}=E(f),a=i,_=m(),b=m(!1),{loadRemoteData:j}=x(a.widgetObj,a.widgetObj.widgetParams[0].typeOptions.dataJson,_,b);[g,u]=W(()=>j()),await g,u();const k=l(()=>{var e,t;return{backgroundColor:(e=a.widgetObj.widgetParams[2])==null?void 0:e.value,padding:(t=a.widgetObj.widgetParams[3])==null?void 0:t.value}}),P=l(()=>{var e,t,s,o;return{fontSize:(e=a.widgetObj.widgetParams[4])==null?void 0:e.value,fontWeight:(t=a.widgetObj.widgetParams[5])==null?void 0:t.value,color:(s=a.widgetObj.widgetParams[6])==null?void 0:s.value,margin:(o=a.widgetObj.widgetParams[7])==null?void 0:o.value}}),h=l(()=>{var e,t;return{width:(e=a.widgetObj.widgetParams[8])==null?void 0:e.value,height:(t=a.widgetObj.widgetParams[9])==null?void 0:t.value}}),C=e=>{var t;O.value.JsonObj.formConfig.link?(q.emit("linkWidget",e,a.widgetObj.widgetParams.linktype),(t=window.parent)==null||t.postMessage({key:"linkWidget",value:e},"*"),console.log("链接触发",e)):console.log("链接跳转已禁用")};return(e,t)=>{const s=p("el-col"),o=p("el-row");return r(),y(o,{style:{width:"100%"}},{default:v(()=>[(r(!0),z(D,null,J(i.widgetObj.widgetParams[0].typeOptions.dataJson,(n,S)=>{var w;return r(),y(s,{key:S,class:"el-col",span:(w=i.widgetObj.widgetParams[1])==null?void 0:w.value,style:d([k.value,{"text-align":"center"}])},{default:v(()=>[c("div",F,[c("img",{onClick:I=>C(n.linkUrl),style:d(h.value),src:n.iconUrl==""?A:n.iconUrl},null,12,M)]),c("div",{style:d(P.value)},R(n.title),5)]),_:2},1032,["span","style"])}),128))]),_:1})}}};export{U as default};
