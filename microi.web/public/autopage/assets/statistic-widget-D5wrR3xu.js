import{_ as E,r as M,y as L,c as g,b as i,d,e as V,f as U,v as G,g as v,h as r,j as o,q as H,t as K,F as B,k as Q,l as b,x as c,N as T,A as X,M as D}from"./index-CQ3cyz74.js";import{u as Z}from"./useWidget-aQLneZde.js";const $={class:"date-range"},ee={__name:"statistic-widget",props:{widgetObj:{type:Object,required:!0}},async setup(s){let p,y;const t=s,I=async a=>{await _()},w=M(),f=M(!1),{loadRemoteData:_}=Z(t.widgetObj,t.widgetObj.widgetParams[0].typeOptions.dataJson,w,f);[p,y]=L(()=>_()),await p,y();const W=g(()=>{var a,e;return{backgroundColor:(a=t.widgetObj.widgetParams[2])==null?void 0:a.value,padding:(e=t.widgetObj.widgetParams[3])==null?void 0:e.value}}),N=g(()=>{var a,e,n,u;return{fontSize:(a=t.widgetObj.widgetParams[7])==null?void 0:a.value,fontWeight:(e=t.widgetObj.widgetParams[8])==null?void 0:e.value,color:(n=t.widgetObj.widgetParams[9])==null?void 0:n.value,margin:(u=t.widgetObj.widgetParams[10])==null?void 0:u.value}}),R=g(()=>{var a,e,n;return{fontSize:(a=t.widgetObj.widgetParams[11])==null?void 0:a.value,fontWeight:(e=t.widgetObj.widgetParams[12])==null?void 0:e.value,color:(n=t.widgetObj.widgetParams[13])==null?void 0:n.value}}),O=g(()=>{var a,e;return{color:(a=t.widgetObj.widgetParams[15])==null?void 0:a.value,fontSize:(e=t.widgetObj.widgetParams[16])==null?void 0:e.value}});return(a,e)=>{var P;const n=i("el-date-picker"),u=i("el-button"),q=i("el-space"),j=i("el-icon"),A=i("el-statistic"),F=i("el-col"),J=i("el-row");return d(),V(B,null,[U(v("div",$,[r(q,{wrap:""},{default:o(()=>[r(n,{modelValue:w.value,"onUpdate:modelValue":e[0]||(e[0]=l=>w.value=l),size:"small","unlink-panels":"",type:"monthrange","range-separator":"至","start-placeholder":"起始年月","end-placeholder":"结束年月",format:"YYYY-MM","value-format":"YYYY-MM"},null,8,["modelValue"]),r(u,{icon:H(K),size:"small",loading:f.value,circle:"",onClick:I},null,8,["icon","loading"])]),_:1})],512),[[G,(P=s.widgetObj.widgetParams[18])==null?void 0:P.value]]),r(J,{style:{width:"100%"}},{default:o(()=>[(d(!0),V(B,null,Q(s.widgetObj.widgetParams[0].typeOptions.dataJson,(l,m)=>{var k;return d(),b(F,{key:m,class:"el-col",span:(k=s.widgetObj.widgetParams[1])==null?void 0:k.value,style:c(W.value)},{default:o(()=>{var h,S,C,Y,x,z;return[r(A,{style:c([{backgroundColor:l.bgColor?l.bgColor:(S=(h=s.widgetObj.widgetParams[4])==null?void 0:h.value)==null?void 0:S.split(",")[m>7?0:m]},{padding:(C=s.widgetObj.widgetParams[5])==null?void 0:C.value},{borderRadius:(Y=s.widgetObj.widgetParams[6])==null?void 0:Y.value},{backgroundImage:l.bgImage?l.bgImage:"url("+((x=s.widgetObj.widgetParams[17])==null?void 0:x.value)+")"}]),"value-style":R.value,value:l.value},T({title:o(()=>[v("div",{style:c(N.value)},[v("span",null,X(l.name),1)],4)]),_:2},[((z=s.widgetObj.widgetParams[14])==null?void 0:z.value)=="prefix"?{name:"prefix",fn:o(()=>[r(j,{style:c(O.value)},{default:o(()=>[(d(),b(D(l.icon)))]),_:2},1032,["style"])]),key:"0"}:{name:"suffix",fn:o(()=>[r(j,{style:c(O.value)},{default:o(()=>[(d(),b(D(l.icon)))]),_:2},1032,["style"])]),key:"1"}]),1032,["style","value-style","value"])]}),_:2},1032,["span","style"])}),128))]),_:1})],64)}}},le=E(ee,[["__scopeId","data-v-95b6ce95"]]);export{le as default};
