import{_ as R,u as S,s as V,r as O,w as A,c,d as a,p as d,h as o,e as y,F as j,z as b,i as F,y as l,f as p,g as I,E as T}from"./index-C52r2N6b.js";import{u as q}from"./useWidget-7UKZkDzP.js";const z={class:"description"},L={class:"description",style:{color:"var(--el-text-color-placeholder)"}},M=["onClick"],$={__name:"steps-widget",props:{widgetObj:{type:Object,required:!0}},async setup(e){let g,m;const h=S(),{formData:k}=V(h),u=e,x=O(),P=O(!1),{loadRemoteData:C}=q(u.widgetObj,u.widgetObj.widgetParams[0].typeOptions.dataJson,x,P);[g,m]=A(()=>C()),await g,m();const B=(r,n)=>{var i;k.value.JsonObj.formConfig.link?(T.emit("stepsWidget",r,n),(i=window.parent)==null||i.postMessage({key:"stepsWidget",value:n},"*"),console.log("步骤组件触发连接",r,n)):console.log("链接跳转已禁用")};return(r,n)=>{var _,w,f,v;const i=c("el-timeline-item"),E=c("el-timeline"),J=c("el-step"),W=c("el-steps");return a(),d(W,{space:(_=e.widgetObj.widgetParams[1])==null?void 0:_.value,direction:(w=e.widgetObj.widgetParams[2])==null?void 0:w.value,active:e.widgetObj.widgetParams[0].typeOptions.dataJson.activeIndex,"align-center":(f=e.widgetObj.widgetParams[3])==null?void 0:f.value,simple:(v=e.widgetObj.widgetParams[4])==null?void 0:v.value},{default:o(()=>[(a(!0),y(j,null,b(e.widgetObj.widgetParams[0].typeOptions.dataJson.stepArr,(t,D)=>(a(),d(J,{key:D,status:t.status,icon:t.icon},{title:o(()=>[F(l(t.title)+" ",1),p("div",z,l(t.description),1),p("div",L,l(t.timestamp),1)]),description:o(()=>[I(E,null,{default:o(()=>[(a(!0),y(j,null,b(t.subdata,(s,N)=>(a(),d(i,{key:N,timestamp:s.timestamp,color:s.color},{default:o(()=>[p("span",{class:"subitem",onClick:G=>B(s.id,s.router)},l(s.content),9,M)]),_:2},1032,["timestamp","color"]))),128))]),_:2},1024)]),_:2},1032,["status","icon"]))),128))]),_:1},8,["space","direction","active","align-center","simple"])}}},Q=R($,[["__scopeId","data-v-02fdf929"]]);export{Q as default};
