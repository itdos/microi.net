server {
	listen	0.0.0.0:80;
	#server_name	127.0.0.1 localhost;
	root	/usr/share/nginx/html;
	index	index.html;

	# ========== Brotli å‹ç¼©é…ç½®ï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰==========
	# âš ï¸ éœ€è¦å®‰è£… ngx_brotli æ¨¡å—ï¼Œå¦‚æœä¸æ”¯æŒè¯·æ³¨é‡Šæ‰
	brotli on;
	brotli_comp_level 6;
	brotli_min_length 1024;
	brotli_types text/plain text/css text/javascript application/javascript application/json application/xml text/xml image/svg+xml;
	# ğŸ”¥ å¯ç”¨ brotli é™æ€å‹ç¼©ï¼ˆä¼˜å…ˆä½¿ç”¨é¢„å‹ç¼©çš„ .br æ–‡ä»¶ï¼‰
	brotli_static on;

	# ========== Gzip å‹ç¼©é…ç½®ï¼ˆBrotli é™çº§æ–¹æ¡ˆï¼‰==========
	# å¼€å¯ gzip å‹ç¼©ï¼ˆå…³é”®ï¼ï¼‰
	gzip on;
	# å‹ç¼©çº§åˆ« 1-9ï¼Œ6 æ˜¯æ€§èƒ½å’Œå‹ç¼©ç‡çš„å¹³è¡¡ç‚¹
	gzip_comp_level 6;
	# å°äº 1KB çš„æ–‡ä»¶ä¸å‹ç¼©ï¼ˆå‹ç¼©æ”¶ç›Šå°ï¼‰
	gzip_min_length 1024;
	# å‹ç¼©çš„æ–‡ä»¶ç±»å‹
	gzip_types text/plain text/css text/javascript application/javascript application/json application/xml text/xml image/svg+xml;
	# å¯ç”¨ gzip é™æ€å‹ç¼©ï¼ˆå¦‚æœæœ‰é¢„å‹ç¼©çš„ .gz æ–‡ä»¶åˆ™ç›´æ¥ä½¿ç”¨ï¼‰
	gzip_static on;
	# ä¸ºä»£ç†æœåŠ¡å™¨ç¼“å­˜ gzip å’Œé gzip ç‰ˆæœ¬
	gzip_vary on;
	# ç¦ç”¨ IE6 çš„ gzipï¼ˆIE6 æ”¯æŒä¸å¥½ï¼‰
	gzip_disable "msie6";

	# ========== æµè§ˆå™¨ç¼“å­˜é…ç½® ==========
	# é™æ€èµ„æºç¼“å­˜ç­–ç•¥ï¼ˆå¸¦ hash çš„æ–‡ä»¶å¯ä»¥æ°¸ä¹…ç¼“å­˜ï¼‰
	location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
		expires 1y;
		add_header Cache-Control "public, immutable";
		add_header Access-Control-Allow-Origin '*';
	}

	# HTML æ–‡ä»¶ä¸ç¼“å­˜ï¼ˆç¡®ä¿æ›´æ–°åŠæ—¶ï¼‰
	location ~* \.html$ {
		expires -1;
		add_header Cache-Control "no-cache, no-store, must-revalidate";
		add_header Access-Control-Allow-Origin '*';
	}

	# é»˜è®¤è·¯ç”±
	location / {
		try_files $uri $uri/ /index.html;
		add_header Access-Control-Allow-Origin '*';
	}

	location = / {
		add_header Access-Control-Allow-Origin '*';
	}
}