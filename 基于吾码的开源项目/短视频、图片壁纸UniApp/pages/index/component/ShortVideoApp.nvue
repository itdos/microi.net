<template>
	<view class="short-video container">
		<!-- #ifdef APP -->
		<!-- é¡¶éƒ¨è‡ªå®šä¹‰å¯¼èˆª -->
		<view :style="`position: fixed;top: ${SafeAreaInsets.top}px; left: 50rpx;z-index: 9999;font-size: 36rpx;text-shadow:  1rpx 0 0 #333, 0 1rpx 0 #333, -1rpx 0 0 #333 , 0 -1rpx 0 #333;color:#fff;font-weight:bold;opacity:0.9;width:500px;height:30px;`">
			<view style="float:left;margin-right:50rpx;width: 100px;height:30px;background-color: #000;"> 
				<text @click="tabChange(0)" :style="`color:#fff;font-weight:${CurrentSortIndex == 0 ? 'bold' : 'normal'};`">äº¤å‹å¹¿åœº</text>
			</view>
			<view style="float:left;margin-right:50rpx;width:50px;height:30px;background-color: #000;"> 
				<text @click="tabChange(1)" :style="`color:#fff;font-weight:${CurrentSortIndex == 1 ? 'bold' : 'normal'};`">æœ€æ–°</text>
			</view>
			<view style="float:left;width:50px;height:30px;background-color: #000;">
				<text @click="tabChange(2)" :style="`color:#fff;font-weight:${CurrentSortIndex == 2 ? 'bold' : 'normal'};`">çƒ­é—¨</text>
			</view>
		</view>
		<tn-nav-bar v-if="PageType == 'List'" :isBack="false" :bottomShadow="false"
			style="position: fixed;top: env(safe-area-inset-top);top: constant(safe-area-inset-top);left: 20rpx;z-index: 9999;background-color: transparent !important;opacity:0.9;">
			<view class="custom-nav tn-flex tn-flex-col-center tn-flex-row-left"
				style="background-color: transparent; !important">
				<!-- <view class="custom-nav__back" @click="tn('/pageA/navigation/navigation')">
					<view class="tn-icon-deploy"></view>
				</view> -->
				<!-- class="tn-margin-top" -->
				<view 
					style="text-shadow:  1rpx 0 0 #333, 0 1rpx 0 #333, -1rpx 0 0 #333 , 0 -1rpx 0 #333;background-color: transparent !important;"
					@click="ClickTabs()"
					>
					<tn-tabs :list="scrollList" :current="CurrentSortIndex" inactiveColor="#fff" @change="tabChange" activeColor="#fff" :bold="true"
						:showBar="true" :fontSize="36"
						style="background-color: transparent !important;"
						></tn-tabs>
				</view>
			</view>
		</tn-nav-bar>
		<tn-nav-bar v-else fixed alpha customBack>
			<view slot="back" class='tn-custom-nav-bar__back' @click="goBack()">
				<text class='icon tn-icon-left'></text>
				<text class='icon tn-icon-home-capsule-fill'></text>
			</view>
		</tn-nav-bar>
		<!--
		æ³¨æ„ï¼šè¿™æ˜¯ App æ‰€ç”¨é¡µé¢ï¼Œè¯·å‹¿å¼•å…¥å¾®ä¿¡å°ç¨‹åºæˆ–æµè§ˆå™¨è¿è¡Œï¼Œæœ€å¥½è¿è¡Œåœ¨çœŸæœº
		1. new_index.nvueã€index.nvueè¿™ä¸¤ä¸ªæ˜¯Appé¡µé¢
		2. index.nvue - é¡µé¢é¢„åŠ è½½ä½¿ç”¨ - åœ¨çº¿é¢„åŠ è½½æ–¹æ¡ˆ
		3. å¦å¤–ï¼šdata.js æ˜¯ä¸Šä¸€ç‰ˆæœ¬ç•™ä¸‹çš„å‡æ•°æ®ï¼Œè¿™ä¸€ç‰ˆæ”¹æˆäº† URL è¯·æ±‚äº†ï¼ˆå¦‚ä¸éœ€è¦å¯ä»¥åˆ é™¤ï¼Œä¹Ÿå¯ä½œä¸ºåç«¯è¯·æ±‚å‚è€ƒï¼‰
		4. è¯·å„ä½å¤§ç¥å¤šå¤šç•™æ‰‹ï¼Œæˆ‘å·²ç»æŠŠè¯·æ±‚å†…å­˜å¼€åˆ°æœ€å¤§äº†
		5. è§†é¢‘ id åˆ‡è®°æ˜¯å­—ç¬¦ä¸²ç±»å‹
		6. è¿™é‡Œä»… App ç«¯å¼•å…¥äº† App ç«¯ä¸“ç”¨è¯„è®ºï¼Œå°ç¨‹åº ã€H5 å¼•å…¥çš„æ—¶å€™ å¯ä»¥ä½œä¸ºå‚è€ƒ
		ã€ Appã€å°ç¨‹åºã€H5è¯„è®ºè¯·å‚è€ƒæ’ä»¶ï¼šhttps://ext.dcloud.net.cn/plugin?id=7875ã€‘
		 -->
		<!-- <view @click="tolistVideo" style="position: fixed; margin-top: 100upx; right: 40upx;">
			<text style="padding: 10upx; padding-left: 40upx; padding-right: 40upx; border-radius: 20upx; background-color: #F8F8F8; font-size: 14px;">H5/å°ç¨‹åº</text>
		</view> -->
		<!-- <view @click="autoPlay" style="position: fixed; margin-top: 100upx; left: 40upx;">
			<text style="padding: 10upx; padding-left: 40upx; padding-right: 40upx; border-radius: 20upx; background-color: #F8F8F8; color: #333; font-weight: bold; font-size: 14px;">{{autoplayText}}</text>
		</view> -->
		<!-- <view @click="previewVideo" style="position: fixed; margin-top: 200upx; right: 40upx;">
			<text style="padding: 10upx; padding-left: 40upx; padding-right: 40upx; border-radius: 20upx; background-color: #F8F8F8; font-size: 14px;">Appç«¯-é¢„è§ˆè§†é¢‘ç•Œé¢</text>
		</view>
		<view @click="selectVideo" style="position: fixed; margin-top: 300upx; right: 40upx;">
			<text style="padding: 10upx; padding-left: 40upx; padding-right: 40upx; border-radius: 20upx; background-color: #F8F8F8; font-size: 14px;">Appç«¯-é€‰æ‹©è§†é¢‘ç•Œé¢</text>
		</view> -->
		<image v-if="isShowAixin" :src="Microi.FileServer + '/jsnzk/img/upload/aixining.png'"
			:style="'position: fixed; margin-left: '+ aixinLeft +'px; margin-top: '+ aixinTop +'px; width: 70px; height: 65px; transform: rotate('+ Rotate +'deg);'">
		</image>
		<view :style="`width: ${windowWidth}px; height: ${boxStyle.height}px;`" v-if="isShow1">
			<!-- 
			 1.è¿™é‡Œçš„ swiper ä¸æ˜¯ç”¨æ¥æ§åˆ¶è§†é¢‘æ»‘åŠ¨çš„ï¼Œè€Œæ˜¯ç”¨æ¥æ§åˆ¶å·¦å³æ»‘åŠ¨çš„ï¼Œå¦‚æœä¸éœ€è¦çš„å¯ä»¥æ”¹æˆ view
			 2.ä¸ºäº† è§†é¢‘æ— é™åŠ è½½ï¼Œå·²ç»æŠŠ 21 è¡Œçš„ appear å»æ‰äº†ï¼ŒåŠ ä¸Šäº† loadmore æ–¹æ³•ï¼ˆç¬¬10è¡Œï¼‰
			 3.ç”±äºæ–¹æ³•æ¯”è¾ƒå¤šï¼Œå¯ä»¥é‡‡å–ä¸‹é¢çš„æ–¹å¼æŸ¥çœ‹ä»£ç ï¼š
			 ï¼ˆ1ï¼‰Macï¼šæŒ‰ä½ option é”®ï¼Œç„¶åç‚¹å‡»æ–¹æ³•åï¼Œå³å¯è·³è½¬åˆ°æ–¹æ³•
			 ï¼ˆ2ï¼‰windowsï¼šæŒ‰ä½ Alt é”®ï¼Œç„¶åé¼ æ ‡å·¦å‡»ï¼Œå³å¯è·³è½¬åˆ°æ–¹æ³•
			 -->
			<list @loadmore="getData" @scroll="scrolls" :loadmoreoffset="wHeight*3" :show-scrollbar="false"
				ref="listBox" :pagingEnabled="true" :scrollable="true">
				<!-- åˆ·æ–°æ¨¡å— -->
				<refresh class="refresh" @refresh="onrefresh" @pullingdown="onpullingdown"
					:display="refreshing ? 'show' : 'hide'">
					<loading style="background-color: #FFFFFF;">
						<image :src="Microi.FileServer + '/jsnzk/img/upload/logins.gif'"
							:style="'width: 80upx; height: 40upx; margin-top: 80upx; margin-bottom: 30upx; margin-left: '+ (windowWidth - 200) +'px;'">
						</image>
					</loading>
				</refresh>
				<!-- å¾ªç¯æ•°æ® -->
				<cell v-for="(item,i) in dataList" :key="i">
					<!-- ç”¨divæŠŠè§†é¢‘æ¨¡ç»„å¥—èµ·æ¥ -->
					<div :style="`width: ${windowWidth}px; height: ${boxStyle.height}px;`" :ref="'item'+i">
						<view v-if="(k-i)<=1">
							<view class="root">
								<!-- 
								å…·ä½“è§†é¢‘å‚æ•°å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£
								è¯´æ˜ï¼š
								1.v-ifå¾ˆå…³é”®ï¼Œè¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†å‡å°‘ dom å…ƒç´ ã€è¿™æ ·æ‰ä¸ä¼šåŠ è½½è§†é¢‘å¤šäº†é—ªé€€ã€‘ï¼Œ
									è¿™é‡Œ Math.abs(k-i)<=5 ä¹Ÿå°±æ˜¯å¾€ä¸Šé¢„åŠ è½½ 5 ä¸ªè§†é¢‘ï¼Œå¾€ä¸‹é¢„åŠ è½½ 5 
									ä¸ªè§†é¢‘è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†è®©è§†é¢‘èƒ½å¤Ÿæå‰åŠ è½½ä½†æ˜¯ä¸æ’­æ”¾ï¼Œåœ¨çœŸæ­£æ»‘åˆ°ä½
									ç½®çš„æ—¶å€™æ’­æ”¾è§†é¢‘ã€‚
									ã€2.0.1å°±æ˜¯  1  Math.abs(k-i)<=1ï¼šè¯·å‹¿ä¿®æ”¹ï¼Œè®°ä½ï¼Œè¦ä¸ç„¶ä¼šæå‰æ’­æ”¾å¾ˆå¤šè§†é¢‘ã€‘
									
								2.è¦æ³¨æ„ @play="playIngs" é‡Œé¢çš„ playIngs æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åªæ˜¯åœ¨è§†é¢‘æ’­æ”¾çš„æ—¶å€™
									èµ·æ•ˆæœï¼Œæˆ‘ä»¬æ§åˆ¶è§†é¢‘æ’­æ”¾ä¸æ˜¯ç”¨è¿™ä¸ªçš„ã€‚è¿™ä¸ªçš„ä¸»è¦ä½œç”¨æ˜¯ç»™è§†é¢‘å°é¢çš„ã€‚æˆ‘ä»¬å…ˆç”¨
									ä¸‹é¢çš„è§†é¢‘å°é¢ç›–ä½è§†é¢‘ï¼Œç­‰åˆ°è§†é¢‘æ’­æ”¾çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸è¦æ€¥ç€ç›´æ¥æ’­æ”¾ï¼Œè€Œæ˜¯å»¶è¿Ÿä¸€ä¸‹ä¸‹ï¼Œ
									300-600mså·¦å³ã€‚å› ä¸ºè§†é¢‘æ’­æ”¾éœ€è¦ä¸€ç‚¹ç‚¹æ—¶é—´ï¼Œè¿™ç‚¹æ—¶é—´é‡Œä¼šé»‘å±ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±ç”¨
									ä¸‹é¢çš„å°é¢ç›–ä½ï¼Œè¿™æ ·ç”¨æˆ·å°±ä¸ä¼šæœ‰ä»é»‘å±åˆ°æœ‰ç”»é¢çš„æ„Ÿè§‰äº†ï¼Œä½†æ˜¯å¦‚æœé‡åˆ°è§†é¢‘å¤ªå¤§ï¼Œç¼“å†²
									æ—¶é—´å¤ªé•¿ï¼Œè¿˜æ˜¯ä¼šå‡ºç°çŸ­æš‚çš„é»‘å±ï¼Œå¤§éƒ¨åˆ†æ˜¯ä¸ä¼šæœ‰é»‘å±çš„ï¼ˆè¿™æ ·ç›–ä½çš„è¯ï¼‰ã€‚
									
									ã€æ›´æ–°è®°å½•ï¼š2.0ç‰ˆã€‘å·²ç»è§£å†³äº†è§†é¢‘é»‘å±é—®é¢˜ï¼Œå’ŒåŠ è½½é€Ÿåº¦æ…¢çš„æƒ…å†µï¼Œå¦‚æœè¿˜æ˜¯å‡ºç°äº†é»‘å±ï¼Œ
									æ„å‘³ç€æ­¤æ—¶æ‰‹æ»‘åŠ¨çš„é€Ÿåº¦ï¼Œå·²ç»è¶…è¿‡äº†è§†é¢‘åŠ è½½çš„é€Ÿåº¦ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œå»ºè®®ä¿®æ”¹ preloadNumber 
									å˜é‡ï¼Œå½“å®ƒçš„å€¼å¤§ä¸€ç‚¹çš„æ—¶å€™å°±ä¼šæå‰åŠ è½½è§†é¢‘ï¼Œè¿™æ ·ç”¨æˆ·åœ¨æ»‘åˆ°è§†é¢‘çš„æ—¶å€™å°±ä¸ä¼šæœ‰åœé¡¿æ„Ÿäº†
									ã€æ³¨æ„ã€‘ï¼šè€ç”¨æˆ·åœ¨ video ä¸­å¢åŠ å’Œä¿®æ”¹ 
									ï¼ˆ1ï¼‰:muted="!item.playIng"ï¼Œ
									ï¼ˆ2ï¼‰@timeupdate="timeupdate($event,i)"
									ï¼ˆ3ï¼‰æŠŠ 199 è¡Œæ³¨é‡Šäº†ï¼Œ
									ï¼ˆ4ï¼‰:id="item._id"ï¼Œ
									ï¼ˆ5ï¼‰ä¿®æ”¹ï¼šuni.createVideoContext(this.dataList[this.k]._id + '' + this.k,this) ä¸º
										uni.createVideoContext(this.dataList[this.k]._id,this)
									ï¼ˆ6ï¼‰åœ¨ timeupdate æ–¹æ³•é‡ŒåŠ å…¥ï¼Œif(index == this.k){æŠŠé‡Œé¢çš„åŠ ä¸€ä¸ªæ€»çš„åˆ¤æ–­}
								3.å…¶ä»–çš„ä¸‹é¢æœ‰è¯¦è§£
								 -->
								<video :id="item._id" :loop="true" :src="item.src" :muted="item.isplay"
									@play="playIngs(i)" :enable-progress-gesture="false" :page-gesture="false"
									:controls="false" :http-cache="true" :show-loading="false"
									:show-fullscreen-btn="false" :show-center-play-btn="false" :style="boxStyle"
									:object-fit="item.HengxiangSP ? 'contain' : 'cover'"
									@timeupdate="timeupdate($event,i)"></video>
								<!-- è¿™é‡Œæ˜¯å°é¢ -->
								<image v-if="!item.playIng" :src="item.YulanT" 
									:mode="item.HengxiangSP ? 'aspectFit' : 'aspectFill'"
									:style="'width: '+ windowWidth +'px; height: '+ (wHeight - deleteHeight) +'px; position: absolute;'">
								</image> 
								<!-- 
								mode: å›¾ç‰‡è£å‰ªã€ç¼©æ”¾çš„æ¨¡å¼
								mode æœ‰ 14 ç§æ¨¡å¼ï¼Œå…¶ä¸­ 5 ç§æ˜¯ç¼©æ”¾æ¨¡å¼ï¼Œ9 ç§æ˜¯è£å‰ªæ¨¡å¼ã€‚
								https://uniapp.dcloud.io/component/image
								 -->
							</view>
							<!-- ç›´æ¥ç”¨ view å°±è¡Œäº†ï¼Œä¸€æ ·æ˜¯å¯ä»¥è¦†ç›–åŸç”Ÿç»„ä»¶çš„ -->
							<!-- è¿™ä¸ªæ˜¯æš‚åœæ—¶å‡ºç°çš„å›¾æ ‡ -->
							<view class="videoHover" @click="tapVideoHover(item.state,$event)"
								@touchstart="touchstartHover" :style="boxStyle">
								<image v-if="item.state=='pause'" class="playState"
									:src="Microi.FileServer + '/jsnzk/img/upload/play.png'"></image>
							</view>
							<view class="userInfo">
								<!-- 1.å¤´åƒ -->
								<image v-if="item.isShowProgressBarTime == false" @click="tozuozhe" class="userAvatar"
									:src="item.href" mode="aspectFill"></image>
								<!-- 2.ç‚¹èµ -->
								<view v-if="item.isShowProgressBarTime == false" @click="cLike(item);"
									style="opacity: 0.9; margin-top: 17px;">
									<image v-if="item._IsFavorite" :src="Microi.FileServer + '/jsnzk/img/upload/xin.png'"
										style="width: 40px; height: 40px; position: absolute; right: 10px;"></image>
									<image v-if="!item._IsFavorite" :src="Microi.FileServer + '/jsnzk/img/upload/xin-2.png'"
										style="width: 40px; height: 40px; position: absolute; right: 10px;"></image>
									<text
										style="color: #FFFFFF; margin-top: 5px; font-size: 14px; text-align: center; margin-top: 40px; font-weight: bold;right:4px;"
										:class="{'likeNumActive':item._IsFavorite}">{{item.ShoucangL || 0}}</text> 
								</view> 
								<!-- 3.è¯„è®º -->
								<!-- @click="toComment(i)" -->
								<view @click="OpenEdit(item)" v-if="item.isShowProgressBarTime == false" class="comment"
									style="opacity: 0.9; margin-top: 17px;">
									<image :src="Microi.FileServer + '/jsnzk/img/upload/liaotian-2.png'"
										style="width: 35px; height: 35px; position: absolute; right: 14px;"></image>
									<!-- <view style="width: 40px; height: 40px; position: absolute; right: 15px;font-size: 40px;color:#fff;">
										<text class="tn-icon-eye-fill" style="font-size: 40px;"></text>
									</view> -->
									<text
										style="color: #FFFFFF; margin-top: 5px; font-size: 14px; font-weight: bold; text-align: center; margin-top: 40px;right:5px;">
										{{item.Hits || 0}}</text>
								</view>
								<!-- 4.åˆ†äº« -->
								<view v-if="item.isShowProgressBarTime == false" @click="share"
									style="opacity: 0.9; margin-top: 17px;">
									<image :src="Microi.FileServer + '/jsnzk/img/upload/share-fill.png'"
										style="width: 40px; height: 40px; position: absolute; right: 10px;"></image>
									<text
										style="color: #FFFFFF; margin-top: 5px; font-size: 14px; text-align: center; font-weight: bold; margin-top: 40px;right: 4px;">åˆ†äº«</text>
								</view>
								<!-- 5.è½¬è½® -->
								<block v-if="platform == 'ios'">
									<view v-if="item.isShowProgressBarTime == false" @click="dealVoice"
										style="margin-top: 17px;">
										<view
											style="width: 48px; height: 48px; border-radius: 50px; position: absolute; right: 12px;">
											<image
												:style="'width: 48px; height: 48px; border-radius: 50px; transform: rotate('+ rotates +'deg);'"
												:src="Microi.FileServer + '/jsnzk/img/upload/bfq.png'"
												mode="aspectFill"></image>
											<image v-if="showPlay"
												:style="'width: 30px; height: 30px; margin-top: 9px; margin-left: 9px; position: absolute; border-radius: 50px; transform: rotate('+ rotates +'deg);'"
												:src="item.href" mode="aspectFill"></image>
										</view>
									</view>
									<view v-if="platform == 'ios'" style="margin-top: 48px;"></view>
								</block>
								<block v-if="platform !== 'ios'">
									<view v-if="item.isShowProgressBarTime == false" @click="dealVoice"
										style="margin-top: 15px; width: 48px; height: 48px;">
										<text style="font-size: 0.1px; opacity: 0;">.</text>
										<view
											style="width: 48px; height: 48px; border-radius: 50px; position: absolute;">
											<image
												:style="'width: 48px; height: 48px; border-radius: 50px; transform: rotate('+ rotates +'deg);'"
												:src="Microi.FileServer + '/jsnzk/img/upload/bfq.png'"
												mode="aspectFill"></image>
											<image v-if="showPlay"
												:style="'width: 30px; height: 30px; margin-top: 9px; margin-left: 9px; position: absolute; border-radius: 50px; transform: rotate('+ rotates +'deg);'"
												:src="item.href" mode="aspectFill"></image>
										</view>
									</view>
								</block>
							</view>
							<!-- æœ€åº•ä¸‹çš„æ–‡å­—éƒ¨åˆ† -->
							<view class="content"
								:style="`bottom: 25px;`"
								v-if="dataList.length !== 0 && dataList[k].isShowProgressBarTime == false">
								<text class="userName"
									:style="`width: ${(windowWidth - 90)}px;`">{{item.title}}</text><!-- i={{i}} -->
								<text class="words" :style="'width: '+ (windowWidth - 90) +'px;'">
									{{item.msg}}
									<!-- -{{k+1}} -->
								</text><!-- k={{k}} -->
							</view>
							<!-- 1.è§†é¢‘é¢„è§ˆæ—¶çš„å›¾ç‰‡ï¼Œcurrenttimesï¼šå°±æ˜¯è·å–å½“å‰æ»‘å—çš„æ—¶é—´ç‚¹ï¼Œå¦‚æœä¸éœ€è¦ï¼Œå¯ä»¥æ³¨é‡Šæ‰ -->
							<!-- 2.å¦‚æœä½¿ç”¨ä¸‹é¢çš„è§†é¢‘é¢„è§ˆçš„è¯è¦æ³¨æ„çš„æ˜¯è§†é¢‘é“¾æ¥æœ€å¥½æ˜¯é˜¿é‡Œäº‘ä¸Šçš„ï¼Œå› ä¸º
									https://xxxxxxxxx.mp4?x-oss-process=video/snapshot,t_1000,f_jpg
									è¿™ä¸ªæ˜¯é˜¿é‡Œäº‘çš„ä¸œè¥¿ï¼Œè‡³äºå…¶ä»–çš„è§†é¢‘æˆªå¸§æˆ‘è¿˜æ²¡æœ‰è¯•è¿‡ã€‚
									-->
							<!-- 3.é˜¿é‡Œäº‘è§†é¢‘æˆªå¸§åœ°å€ï¼šhttps://help.aliyun.com/document_detail/64555.html -->
							<image v-if="item.isShowimage == true" :src="item.YulanT" mode="aspectFill"
								:style="'width: 120upx; height: 160upx; border-radius: 10upx; position: absolute; bottom: '+ (ProgressBarBottom + 160) +'upx; left: '+ (currentPositions - 15) +'px;'">
							</image>
						</view>
					</div>
				</cell>
			</list>
			<!-- 1.æ³¨æ„ï¼šè¿›åº¦æ¡è¿™ç±»æ‹–æ‹½çš„ä¸œè¥¿ä¸èƒ½æ”¾è¿›block\cellè¿™äº›å¾ªç¯ä½“ä¸­çš„ï¼Œè¦ä¸ç„¶touchmoveæ–¹æ³•ä¼šæ•æ‰æœ‰è¯¯ -->
			<view v-if="dataList.length !== 0 && dataList[k].isShowProgressBarTime == true"
				:style="'position: absolute; bottom: '+ (ProgressBarBottom + this.windowWidth*0.2)/2 +'px; left: '+ (windowWidth*2 - this.windowWidth*1.35)/2 +'px;'">
				<text style="font-size: 22px; font-weight: bold; color: #F1F1F1;">{{changeTime}} / {{videoTimes}}</text>
			</view>
			<!-- è¿™é‡Œå°±æ˜¯è¿›åº¦æ¡äº†ï¼šçº¯æ‰‹å·¥è¿›åº¦æ¡ï¼Œè°ƒæ•´ä½ç½®çš„è¯å°±æŠŠä»–ä»¬çš„ bottom æ”¹æˆä¸€ä¸‹å°±è¡Œäº† -->
			<view v-if="isDragging == false" @touchmove="touchmove" @touchend="touchend" @touchstart="touchstart"
				:style="`position: absolute; left: 0;bottom:15px;transition: width 0.5s ease;`">
				<!-- 1.è¿™ä¸€æ­¥å¿…é¡»åŠ ï¼Œä¸ºäº†é€‚é…ä½ç«¯æœºå‹ -->
				<text :style="'width: '+ windowWidth +'px; opacity: 0;'">.</text>
				<!-- 2.è¿™æ˜¯æœªåŠ è½½çš„æ—¶çš„å³è¾¹çš„ç°è‰²éƒ¨åˆ† -->
				<view
					:style="`width: ${(windowWidth - (windowWidth*0.10))}px; margin-left: ${(windowWidth * 0.05)}px; height: 10rpx; background-color: #C8C7CC; position: absolute; bottom: ${ProgressBarBottom}upx; opacity: ${ProgressBarOpacity};transition: width 0.5s ease;border-radius: 10px;`">
				</view>
				<!-- 3.è¿™é‡Œæˆ‘é‡‡ç”¨çš„åˆ†ç¦»å¼åŠæ³•ï¼šå°±æ˜¯è®©æ»‘åŠ¨æ ·å¼å’Œä¸æ»‘åŠ¨çš„æ ·å¼åˆ†å¼€ï¼Œè¿™æ ·ç›¸äº’ä¸å¹²æ‰°ï¼Œå¯ä»¥é¿å…è¿›åº¦æ¡é—ªåŠ¨çš„é—®é¢˜ -->
				<!-- 4.æ³¨æ„ï¼šisShowProgressBarTime åŠ å…¥äº†è¿”å›æ•°æ®ä¸­ -->
				<view v-if="dataList.length !== 0 && dataList[k].isShowProgressBarTime == false"
					:style="`width: ${(currentPosition)}px; margin-left: ${(windowWidth * 0.05)}px; height: 10rpx; background-color: #FFFFFF; position: absolute; bottom: ${ProgressBarBottom}upx; left: 0; opacity: ${(ProgressBarOpacity - 0.1)};transition: width 0.5s ease;border-radius: 10px;`">
				</view>
				<view v-if="dataList.length !== 0 && dataList[k].isShowProgressBarTime == true"
					:style="`width: ${(currentPositions)}px; margin-left: ${(windowWidth * 0.05)}px; height: 10rpx; background-color: #FFFFFF; position: absolute; bottom:${ProgressBarBottom}upx; left: 0; opacity: ${(ProgressBarOpacity + 0.05)};transition: width 0.5s ease;border-radius: 10px;`">
				</view>
				<!-- <view v-if="dataList.length !== 0 && dataList[k].isShowProgressBarTime == false"
					:style="'width: 4px; height: 4px; background-color: #FFFFFF; border-radius: 10px; position: absolute; bottom: '+ (ProgressBarBottom - 2) +'upx; left: '+ (currentPosition) +'px; opacity: '+ ProgressBarOpacity +';'">
				</view>
				<view v-if="dataList.length !== 0 && dataList[k].isShowProgressBarTime == true"
					:style="'width: '+ dotWidth +'px; height: '+ dotWidth +'px; background-color: #FFFFFF; border-radius: 10px; position: absolute; bottom: '+ (ProgressBarBottom - 5) +'upx; left: '+ (currentPositions - 5) +'px; opacity: '+ ProgressBarOpacity +';'">
				</view> -->
			</view>
		</view>
		<!--
		è¯·å‰å¾€ douyin-scrollview.nvue æ–‡ä»¶æŸ¥çœ‹
		å·²ç»å…¨éƒ¨æ³¨é‡Š
		 è¿™é‡Œå°±æ˜¯å¼•å…¥è¯„è®ºæ’ä»¶
		 -->
		 <!--
		  æ³¨æ„ï¼š
		  deleteIOSHeight
		  deleteAndroidHeight
		  è¿™ä¸¤ä¸ªå‚æ•°ç”¨äºæ§åˆ¶è¯„è®ºç­‰çš„é«˜åº¦
		  -->
		<!-- <uni-popup type="bottom" ref="pinglun" @touchmove.stop.prevent="moveHandle" v-if="isShow2">
			<view
				:style="'width: '+ windowWidth +'px; height: '+ (boxStyle.height/heightNum) +'px; background-color: #242424; border-top-left-radius: 10px; border-top-right-radius: 10px;'">
				
				<douyin-scrollview :Width="windowWidth" :Height="(boxStyle.height/1.23)" :deleteIOSHeight="36"
					:deleteAndroidHeight="15" @closeScrollview="closeScrollview"></douyin-scrollview>
			</view>
		</uni-popup> -->
		<!-- #endif -->
		<tn-modal v-model="ShowEdit"
			:custom="true" 
			:showCloseBtn="true"
			:title="'ç¼–è¾‘'"
			:safeAreaInsetBottom="true"
			>
			<tn-form :labelWidth="300" style="text-align: right;">
				<tn-form-item label="åŠ æµè§ˆ" style="text-align: right;">
					<tn-button size="sm" @click="AddHits()" backgroundColor="#01BEFF" fontColor="#ffffff"
						style="width: 180rpx;">
						<text class="tn-icon-add-circle" style="margin-right: 2rpx;"></text> åŠ æµè§ˆ
					</tn-button>
				</tn-form-item>
				<tn-form-item label="æ˜¯å¦å…è´¹" style="text-align: right;">
					<!-- @change="(value) => { return SwitchContent(value, 'ShifouMF'); }" -->
					<tn-switch v-model="ContentDetail.ShifouMF" @change="SwitchContentShifouMF"></tn-switch>
				</tn-form-item>
				<tn-form-item label="æ˜¯å¦æ¨èé¦–é¡µ">
					<tn-switch v-model="ContentDetail.ShifouTJ" @change="SwitchContentShifouTJ"></tn-switch>
				</tn-form-item>
				<tn-form-item label="å°ç¨‹åºä¸å¯è§">
					<tn-switch v-model="ContentDetail.WeixinXCXBKJ" @change="SwitchContentWeixinXCXBKJ"></tn-switch>
				</tn-form-item>
				<tn-form-item label="æœªç™»å½•ä¸å¯è§">
					<tn-switch v-model="ContentDetail.WeidengLBKJ" @change="SwitchContentWeidengLBKJ"></tn-switch>
				</tn-form-item>
				<tn-form-item label="éæ‰‹æœºå·ä¼šå‘˜ä¸å¯è§">
					<tn-switch v-model="ContentDetail.FeishouJHHYBKJ" @change="SwitchContentFeishouJHHYBKJ"></tn-switch>
				</tn-form-item>
				<tn-form-item label="æ˜¯å¦ç½®é¡¶">
					<tn-switch v-model="ContentDetail.ShifouZD" @change="SwitchContentShifouZD"></tn-switch>
				</tn-form-item>
				<tn-form-item label="å…è´¹ä¼šå‘˜ä¸å¯è§">
					<tn-switch v-model="ContentDetail.MianfeiHYBKJ" @change="SwitchContentMianfeiHYBKJ"></tn-switch>
				</tn-form-item>
				<tn-form-item label="éç«–å±å†…å®¹">
					<tn-switch v-model="ContentDetail.HengxiangSP" @change="SwitchContentHengxiangSP"></tn-switch>
				</tn-form-item>
				
			</tn-form>
		</tn-modal>
	</view>
</template>
<script>
	// import userList from './data.js'//è¿™ä¸ªæ˜¯å‡æ•°æ®
	/*
	å¼•å…¥è¯„è®ºç»„ä»¶
	*/
	// import douyinScrollview from './components/douyin-scrollview.nvue'
	import {
		mapState
	} from 'vuex'
	import {
		Microi
	} from "@/common/microi.uniapp.js"
	import template_page_mixin from '@/libs/mixin/template_page_mixin.js'
	export default {
		mixins: [template_page_mixin],
		computed: {
			...mapState({
				CurrentUser: function() {
					return this.$MicroiStore.state.CurrentUser;
				},
				IsLogin: function() {
					return this.$MicroiStore.state.IsLogin;
				},
			}),
		},
		props:{ 
			PageType: {
			  type: String,
			  default: 'List'
			},
		},
		data() {
			return {
				Microi: Microi,
				CurrentSortIndex:0,
				LastCurrentSortIndex : 0,
				scrollList: [{
						name: 'äº¤å‹å¹¿åœº'//éšæœº
					},
					{
						name: 'æœ€æ–°'
					},
					{
						name: 'çƒ­é—¨'
					}
				],
				ShowEdit: false,
				PageIndex: 1,
				ContentDetail:{},
				//ä¸‹é¢æ‰“ğŸŒŸå·çš„æ˜¯å¿…é¡»è¦çš„åŸºç¡€å­—æ®µ
				//ä¸‹é¢æ‰“ğŸ’—å·çš„æ˜¯æ‹¥æœ‰æ»‘åŠ¨æ¡çš„å¿…é¡»å­—æ®µ
				dataList: [], //ç”¨äºæ•°æ®å¾ªç¯çš„åˆ—è¡¨ğŸŒŸğŸ’—
				wHeight: 0, //è·å–çš„å±å¹•é«˜åº¦ğŸŒŸğŸ’—
				boxStyle: { //è§†é¢‘ï¼Œå›¾ç‰‡å°é¢æ ·å¼ğŸŒŸğŸ’—
					'height': 0,
					'width': 0,
				},
				k: 0, //é»˜è®¤ä¸º0ğŸŒŸğŸ’—
				playIngIds: [], //æ­£åœ¨æ’­æ”¾çš„è§†é¢‘idåˆ—é˜Ÿï¼Œåˆ—é˜Ÿç”¨äºå¤„ç†æ»‘åŠ¨è¿‡å¿«å¯¼è‡´çš„è·³é¢‘é—®é¢˜ğŸŒŸğŸ’—
				ready: false, //å¯å¿½ç•¥
				isDragging: false, //falseä»£è¡¨åœæ­¢æ»‘åŠ¨ğŸŒŸğŸ’—
				refreshing: true, //ç”¨äºä¸‹æ‹‰åˆ·æ–°ğŸŒŸğŸ’—
				windowWidth: 0, //è·å–å±å¹•å®½åº¦ğŸŒŸğŸ’—
				windowHeight: 0,
				dex: [0, 0], //ç”¨äºåˆ¤æ–­æ˜¯ä¸Šæ»‘è¿˜æ˜¯ä¸‹æ»‘ï¼Œç¬¬ä¸€ä¸ªå­˜æ—§å€¼ï¼Œç¬¬äºŒä¸ªå­˜æ–°å€¼ã€ç›®å‰åœ¨1.0.7å·²ç»åºŸå¼ƒã€‘
				currents: 0, //ç”¨äºå·¦å³æ»‘åŠ¨ï¼Œ0ä»£è¡¨è§†é¢‘ç•Œé¢ï¼Œ1ä»£è¡¨å³æ»‘ç•Œé¢ğŸŒŸğŸ’—
				platform: '', //ç”¨äºè·å–æ“ä½œç³»ç»Ÿï¼šiosã€androidğŸŒŸğŸ’—
				playIng: false, //ç”¨äºè§†é¢‘åˆå§‹åŒ–æ—¶æ˜¯å¦æ’­æ”¾ï¼Œé»˜è®¤ä¸æ’­æ”¾ğŸŒŸğŸ’—
				videoTime: '', //è§†é¢‘æ€»æ—¶é•¿ï¼Œè¿™ä¸ªä¸»è¦ç”¨æ¥æˆªå–æ—¶é—´æ•°å€¼ğŸ’—
				videoTimes: '', //è§†é¢‘æ—¶é•¿ï¼Œç”¨è¿™ä¸ªæ¥è·å–æ—¶é—´å€¼ï¼Œä¾‹å¦‚ï¼š00:30è¿™ä¸ªæ—¶é—´å€¼ğŸ’—
				changeTime: '', //æ˜¾ç¤ºæ»‘åŠ¨è¿›åº¦æ¡æ—¶å˜åŒ–çš„æ—¶é—´ğŸ’—
				isShowimage: false, //æ˜¯å¦æ˜¾ç¤ºå°é¢ã€1.0.4å·²åºŸå¼ƒï¼Œä½†æ˜¯æ„æ€éœ€è¦è®°ä½ã€‘
				currenttimes: 0, //å½“å‰æ—¶é—´ğŸ’—
				isShowProgressBarTime: false, //æ˜¯å¦æ‹–åŠ¨è¿›åº¦æ¡ï¼Œå¦‚æœæ‹–åŠ¨ï¼ˆtrueï¼‰åˆ™æ˜¾ç¤ºè¿›åº¦æ¡æ—¶é—´ï¼Œå¦åˆ™ä¸æ˜¾ç¤ºï¼ˆfalseï¼‰ã€1.0.4å·²åºŸå¼ƒï¼Œä½†æ˜¯æ„æ€éœ€è¦è®°ä½ã€‘
				ProgressBarOpacity: 0.7, //è¿›åº¦æ¡ä¸æ‹–åŠ¨æ—¶çš„é»˜è®¤å€¼ï¼Œå°±æ˜¯é€æ˜çš„ğŸ’—
				dotWidth: 0, //æ’­æ”¾çš„å°åœ†ç‚¹ï¼Œé»˜è®¤æ²¡æœ‰ğŸ’—
				deleteHeight: 0, //æµ‹è¯•é«˜åº¦ğŸŒŸğŸ’—
				percent: 0, //ç™¾åˆ†å°æ•°ğŸ’—
				currentPosition: 0, //æ»‘å—å½“å‰ä½ç½®ğŸ’—//2.0å·²å¼ƒç”¨ï¼Œç°å·²ç”¨äºåç«¯å‚æ•°
				currentPositions: 0, //æ»‘å—å½“å‰ä½ç½®çš„å‰¯æœ¬ğŸ’—//2.0å·²å¼ƒç”¨ï¼Œç°å·²ç”¨äºåç«¯å‚æ•°
				newTime: 0, //è·Ÿæ‰‹æ»‘åŠ¨åçš„æœ€æ–°æ—¶é—´ğŸ’—
				timeNumber: 0, //ğŸŒŸğŸ’—
				ProgressBarBottom: 0,//20, //è¿›åº¦æ¡ç¦»åº•éƒ¨çš„è·ç¦»ğŸ’—
				object_fit: 'cover', //contain',//è§†é¢‘æ ·å¼é»˜è®¤åŒ…å«ğŸŒŸğŸ’—
				mode: 'aspectFill', //aspectFit',//å›¾ç‰‡å°é¢æ ·å¼ğŸŒŸğŸ’—
				timeout: "", //ğŸŒŸç”¨æ¥é˜»æ­¢ setTimeout()æ–¹æ³•
				voice: "", //ğŸŒŸç”¨æ¥é˜»æ­¢ setTimeout()æ–¹æ³•
				oldVideo: "",

				isAutoplay: false, //æ˜¯å¦å¼€å¯è‡ªåŠ¨æ’­æ”¾(é»˜è®¤ä¸å¼€å¯)
				autoplayText: "å¼€å¯è‡ªåŠ¨æ’­æ”¾",
				timers: "",

				// å¼•å…¥è¯„è®º - å‚æ•°
				heightNum: 1.18,

				// åŒå‡»ç‚¹èµå‚æ•°
				touchNum: 0,
				aixinLeft: 0,
				aixinTop: 0,
				isShowAixin: false,
				Rotate: 0,

				isShow1: false, //æ§åˆ¶æ¸²æŸ“å˜é‡1
				isShow2: false, //æ§åˆ¶æ¸²æŸ“å˜é‡2 ï¼š ä¸“é—¨æ§åˆ¶ uni-popup

				showPlay: false, //è½¬è½®æ˜¾ç¤ºæ§åˆ¶
				rotates: 0, //è½¬è½®æ—‹è½¬è§’åº¦
				rotateTime: "", //è½¬è½®é€’å½’äº‹ä»¶æ§åˆ¶
				xrotats: "",
				SafeAreaInsets : {},
			}
		},
		components: {
			// douyinScrollview
		},
		created() {
			var self = this;
			// self.Init();
		},
		watch: {
			k(k, old_k) { //ç›‘å¬ k å€¼çš„å˜åŒ–ï¼Œå¯ä»¥æ§åˆ¶è§†é¢‘çš„æ’­æ”¾ä¸æš‚åœ
				console.log(k)
				// æ¸…ç†å®šæ—¶å™¨
				this.clearToTime();
				this.dataList[old_k].state = 'stop' //å¦‚æœæ˜¯è¢«æ»‘èµ°çš„è§†é¢‘ï¼Œå°±åœæ­¢æ’­æ”¾
				this.dataList[old_k].playIng = false //å¦‚æœè§†é¢‘æš‚åœï¼Œå°±åŠ è½½å°é¢
				this.dataList[old_k].isplay = true
				uni.createVideoContext(this.dataList[old_k]._id, this).play()
				clearTimeout(this.oldVideo)
				this.oldVideo = setTimeout(() => {
					uni.createVideoContext(this.dataList[old_k]._id, this).seek(0)
					uni.createVideoContext(this.dataList[old_k]._id, this).pause()
					console.log('é¢„ç•™ç¬¬' + (old_k + 1) + 'ä¸ªè§†é¢‘ï¼š' + this.dataList[old_k]._id)
				}, 500)
				// 2.0ç‰ˆæœ¬å·²ç»å»æ‰äº†ä¸‹é¢è¿™ä¸€å¥ï¼Œè§†é¢‘ä¸ç”¨æš‚åœï¼Œåªéœ€è¦æŠŠå£°éŸ³ç¦æ­¢å°±è¡Œ
				// uni.createVideoContext(this.dataList[old_k]._id + '' + old_k,this).stop()//å¦‚æœè§†é¢‘æš‚åœï¼Œé‚£ä¹ˆæ—§è§†é¢‘åœæ­¢ï¼Œè¿™é‡Œçš„this.dataList[old_k]._id + '' + old_kï¼Œåé¢åŠ  old_k æ˜¯ä¸ºäº†æ¯ä¸€ä¸ªè§†é¢‘çš„ id å€¼ä¸åŒï¼Œè¿™æ ·å°±å¯ä»¥å¤§ç¨‹åº¦çš„é¿å…ä¸²éŸ³é—®é¢˜
				this.dataList[k].state = 'play'
				console.log('å·²ç»æš‚åœ --> ç¬¬' + (old_k + 1) + 'ä¸ªè§†é¢‘ï½') //æç¤º
				setTimeout(() => {
					uni.createVideoContext(this.dataList[k]._id, this).play();
				}, 80)
				clearTimeout(this.voice)
				this.voice = setTimeout(() => {
					this.dataList[k].isplay = false
				}, 200)
				setTimeout(() => {
					this.dataList[k].playIng = true
				}, 850)
				// console.log(this.dataList[k])
				//ã€2.0ç‰ˆæœ¬æ›´æ–°å†…å®¹ã€‘- start
				var p = k;
				++p;
				this.dataList[p].isplay = true
				setTimeout(() => {
					uni.createVideoContext(this.dataList[p]._id, this).play()
					clearTimeout(this.timeout)
					this.timeout = setTimeout(() => {
						uni.createVideoContext(this.dataList[p]._id, this).seek(0)
						uni.createVideoContext(this.dataList[p]._id, this).pause()
						console.log('é¢„åŠ è½½ç¬¬' + (p + 1) + 'ä¸ªè§†é¢‘ï¼š' + this.dataList[p]._id)
					}, 1500)
				}, 20)
				//ã€2.0ç‰ˆæœ¬æ›´æ–°å†…å®¹ã€‘- end
				//ã€æ­¤å¤„å¤„ç†è¿›åº¦æ¡å¡ä½çš„é—®é¢˜ã€‘
				if (uni.getSystemInfoSync().platform !== 'ios') {
					setTimeout(() => {
						uni.createVideoContext(this.dataList[k]._id, this).pause()
						uni.createVideoContext(this.dataList[k]._id, this).play()
					}, 100)
				}
				this.xrotats = setTimeout(() => {
					this.showPlay = true;
					this.rotateX();
				}, 200)
			}
		},
		onShow() {
			console.log('å›åˆ°çŸ­è§†é¢‘å‰å°');
			if (this.dataList.length !== 0) {
				this.dataList[this.k].state = 'play';
				uni.createVideoContext(this.dataList[this.k]._id, this).play()
			}
		},
		onHide() {
			this.dataList[this.k].state = 'pause'; //ç•Œé¢éšè—ä¹Ÿè¦åœæ­¢æ’­æ”¾è§†é¢‘
			uni.createVideoContext(this.dataList[this.k]._id, this).pause(); //æš‚åœä»¥åç»§ç»­æ’­æ”¾
			console.log('çŸ­è§†é¢‘éšè—åˆ°åå°');
		},
		onLoad() {
			var self = this;
			self.Init();
		},
		onReady() {},
		methods: {
			Init() {
				var self = this;
				var getSystemInfoSync = uni.getSystemInfoSync();
				self.SafeAreaInsets = getSystemInfoSync.safeAreaInsets;
				this.platform = this.platform
				var model = uni.getSystemInfoSync().model
				if (this.platform == 'ios' && (model !== 'iPhone6' || model !== 'iPhone6s' || model !== 'iPhone7' ||
						model !== 'iPhone8')) {
					this.deleteHeight = 0//32 //æœ‰ tabbarçš„ ä¿®æ”¹è¿™é‡Œå¯ä»¥æ”¹å˜è§†é¢‘é«˜åº¦

					/*
					å¼•å…¥è¯„è®ºå‚æ•°
					*/

					this.heightNum = 1.27
				} else {
					this.deleteHeight = 0
					/*
					å¼•å…¥è¯„è®ºå‚æ•°
					*/
					this.heightNum = 1.18
				}
				
				this.windowWidth = uni.getSystemInfoSync().screenWidth //è·å–å±å¹•å®½åº¦
				
				this.boxStyle.width = this.windowWidth + 'px' //ç»™å®½åº¦åŠ px
				//ä»¥ä¸‹ç®—æ³•åœ¨iphone12ä¸‹æ­£å¸¸ï¼Œä½†åœ¨iphone14promaxä¸‹ä¼šç•™ä¸€ç©ºç©ºéš™ï¼Œå¯¼è‡´ç¬¬6æ¡è§†é¢‘ä¸èƒ½è‡ªåŠ¨æ’­æ”¾
				this.wHeight = uni.getSystemInfoSync().screenHeight; //è·å–å±å¹•é«˜åº¦
				this.boxStyle.height = this.wHeight - this.deleteHeight - this.SafeAreaInsets.bottom - getSystemInfoSync.statusBarHeight; //æ”¹å˜è§†é¢‘é«˜åº¦ iphone14proxmax - 84
				//ä»¥ä¸‹ç®—æ³•åœ¨iphone12å’Œiphone14promaxä¸‹å‡æ­£å¸¸
				this.wHeight = uni.getSystemInfoSync().windowHeight; //è·å–å±å¹•é«˜åº¦
				this.boxStyle.height = this.wHeight;
				// self.Microi.Tips(`calc(${self.boxStyle.height}px - 85px);`);
				
				// æ§åˆ¶æ¸²æŸ“ -- start
				this.isShow1 = true;
				setTimeout(() => {
					this.isShow2 = true;
				}, 400)
				// æ§åˆ¶æ¸²æŸ“ -- end
				
				this.get() //è¿™ä¸€æ­¥ï¼ŒåŠ è½½è§†é¢‘æ•°æ®
				this.rotateX();
			},
			ClickTabs(){
				var self = this;
				if(self.LastCurrentSortIndex != self.CurrentSortIndex){
					self.LastCurrentSortIndex = parseInt(self.CurrentSortIndex)
				}else{
					self.dataList = [];
					self.PageIndex = 1;
					self.current = 0;
					self.k = 0;
					self.get();
				}
			},
			tabChange(index) {
				var self = this;
				self.LastCurrentSortIndex = parseInt(self.CurrentSortIndex)
				self.CurrentSortIndex = index
				self.dataList = [];
				self.PageIndex = 1;
				self.current = 0;
				self.k = 0;
				self.get();
			},
			SwitchContentShifouMF(value){
				var self = this;
				self.SwitchContent(value, 'ShifouMF');
			},
			SwitchContentShifouTJ(value){
				var self = this;
				self.SwitchContent(value, 'ShifouTJ');
			},
			SwitchContentWeixinXCXBKJ(value){
				var self = this;
				self.SwitchContent(value, 'WeixinXCXBKJ');
			},
			SwitchContentWeidengLBKJ(value){
				var self = this;
				self.SwitchContent(value, 'WeidengLBKJ');
			},
			SwitchContentFeishouJHHYBKJ(value){
				var self = this;
				self.SwitchContent(value, 'FeishouJHHYBKJ');
			},
			SwitchContentShifouZD(value){
				var self = this;
				self.SwitchContent(value, 'ShifouZD');
			},
			SwitchContentMianfeiHYBKJ(value){
				var self = this;
				self.SwitchContent(value, 'MianfeiHYBKJ');
			},
			SwitchContentHengxiangSP(value){
				var self = this;
				self.SwitchContent(value, 'HengxiangSP');
			},
			SwitchContent(value, type){
				var self = this;
				var param = {
					Id : self.ContentDetail.Id,//self.Microi.GetUrlQuery(self, 'ContentId')
				};
				param[type] = value ? 1 : 0;
				self.Microi.ApiEngine.Run('upt_content', param, function(result){
					if(self.Microi.CheckResult(result)){
						self.Microi.Tips('ä¿®æ”¹æˆåŠŸï¼');
					}
				});
			},
			OpenEdit(content){
				var self = this;
				self.Microi.Tips(`æµè§ˆé‡ï¼š${content.Hits || 0}`);
				if(self.Microi.GetCurrentUser().YunxuZJLLS){
					self.ContentDetail = content;
					self.ShowEdit = true;
				}
			},
			async AddHits(content) {
				var self = this;
				if (self.Microi.GetCurrentUser().YunxuZJLLS) {
					var result = await self.Microi.ApiEngine.Run('upt_content_hits_add', {
						Id: content.Id
					});
					if (self.Microi.CheckResult(result)) {
						content.Hits = result.DataAppend.Hits;
						self.Microi.Tips('å½“å‰æµè§ˆé‡' + result.DataAppend.Hits);
					}
				}
			},
			selectVideo() {
				uni.navigateTo({
					url: '/pages/selectVideo/selectVideo'
				})
			},
			dealVoice() {
				var self = this;
				self.Microi.Tips('éŸ³ä¹åŠŸèƒ½å¼€å‘ä¸­');
				// uni.showToast({
				// 	title: 'å¤„ç†å£°éŸ³',
				// 	icon: 'none'
				// })
			},
			clearToTime() {
				//æ¸…ç†å®šæ—¶å™¨
				for (let i = 0; i < 20; i++) {
					clearTimeout(this.rotateTime);
					clearTimeout(this.xrotats);
					this.showPlay = false;
					this.rotates = 0;
				}
			},
			clearTime() {
				//æ¸…ç†å®šæ—¶å™¨
				for (let i = 0; i < 20; i++) {
					clearTimeout(this.rotateTime);
					clearTimeout(this.xrotats);
				}
			},
			rotateX() {
				// clearTimeout(this.rotateTime);
				this.rotateTime = setTimeout(() => {
					this.rotateX();
					this.rotates += 1;
				}, 30)
			},
			autoPlay() {
				this.isAutoplay = !this.isAutoplay;
				if (!this.isAutoplay) {
					this.autoplayText = "å¼€å¯è‡ªåŠ¨æ’­æ”¾"
					uni.showToast({
						title: "å…³é—­è‡ªåŠ¨æ’­æ”¾",
						icon: 'none',
						duration: 3000
					})
				} else {
					this.autoplayText = "å…³é—­è‡ªåŠ¨æ’­æ”¾"
					uni.showToast({
						title: "å¼€å¯è‡ªåŠ¨æ’­æ”¾",
						icon: 'none',
						duration: 3000
					})
				}
			},
			
			touchstart(event) {
				this.dataList[this.k].isShowimage = true //åˆšè§¦æ‘¸çš„æ—¶å€™å°±è¦æ˜¾ç¤ºé¢„è§ˆè§†é¢‘å›¾ç‰‡äº†
				this.dataList[this.k].isShowProgressBarTime = true //æ˜¾ç¤ºæ—¶é—´çº¿
				this.ProgressBarOpacity = 1 //è®©æ»‘å—æ˜¾ç¤ºèµ·æ¥æ›´æ˜æ˜¾ä¸€ç‚¹
				this.dotWidth = 10 //è®©ç‚¹æ˜¾ç¤ºèµ·æ¥æ›´æ˜æ˜¾ä¸€ç‚¹
			},
			touchend() { //å½“æ‰‹æ¾å¼€åï¼Œè·³åˆ°æœ€æ–°æ—¶é—´
				uni.createVideoContext(this.dataList[this.k]._id, this).seek(this.newTime)
				if (this.dataList[this.k].state == 'pause') {
					this.dataList[this.k].state = 'play'
					uni.createVideoContext(this.dataList[this.k]._id, this).play()
				}
				this.dataList[this.k].isShowProgressBarTime = false //è§¦æ‘¸ç»“æŸåï¼Œéšè—æ—¶é—´çº¿
				this.dataList[this.k].isShowimage = false //è§¦æ‘¸ç»“æŸåï¼Œéšè—æ—¶é—´é¢„è§ˆ
				this.ProgressBarOpacity = 0.5 //éšè—èµ·æ¥è¿›åº¦æ¡ï¼Œä¸é‚£ä¹ˆæ˜æ˜¾äº†
				this.dotWidth = 0 //éšè—èµ·æ¥è¿›åº¦æ¡ï¼Œä¸é‚£ä¹ˆæ˜æ˜¾äº†
			},
			touchmove(event) { //å½“æ‰‹ç§»åŠ¨æ»‘å—æ—¶ï¼Œè®¡ç®—ä½ç½®ã€ç™¾åˆ†å°æ•°ã€æ–°çš„æ—¶é—´
				var msg = []
				if (this.videoTime !== '') {
					msg = this.videoTime.split(':')
				}
				var timeNumber = Number(msg[0]) * 60 + Number(msg[1])
				this.currentPositions = event.changedTouches[0].screenX
				this.percent = this.currentPositions / this.windowWidth
				this.newTime = this.percent * timeNumber
				this.currenttimes = parseInt(this.newTime)
				let theTime = this.newTime
				let middle = 0; // åˆ†
				if (theTime > 60) {
					middle = parseInt(theTime / 60);
					theTime = parseInt(theTime % 60);
				}
				this.changeTime =
					`${Math.round(middle)>9?Math.round(middle):'0'+Math.round(middle)}:${Math.round(theTime)>9?Math.round(theTime):'0'+Math.round(theTime)}`
			},
			timeupdate(event, index) { //è®¡ç®—æ»‘å—å½“å‰ä½ç½®ï¼Œè®¡ç®—å½“å‰ç™¾åˆ†å°æ•°
				// console.log(index)
				if (index == this.k) {
					// console.log(event)
					var currenttime = event.detail.currentTime
					this.timeNumber = Math.round(event.detail.duration)
					this.getTime()
					this.percent = currenttime / this.timeNumber
					//by itdos.com
					this.currentPosition = (this.windowWidth - this.windowWidth * 0.10) * this.percent
					let theTime = currenttime
					let middle = 0; // åˆ†
					if (theTime > 60) {
						middle = parseInt(theTime / 60);
						theTime = parseInt(theTime % 60);
					}
					this.changeTime =
						`${Math.round(middle)>9?Math.round(middle):'0'+Math.round(middle)}:${Math.round(theTime)>9?Math.round(theTime):'0'+Math.round(theTime)}`
					//è‡ªåŠ¨åˆ‡æ¢è§†é¢‘
					if (this.isAutoplay) { //true,ä»£è¡¨è‡ªåŠ¨æ’­æ”¾
						if (Math.round(currenttime) == this.timeNumber - 1) {
							const dom = uni.requireNativePlugin('dom')
							let doms = 'item' + (this.k + 1)
							setTimeout(() => {
								let el = this.$refs[doms][0]
								dom.scrollToElement(el, {
									offset: 0,
									animated: true
								})
							}, 500)
						}
					}
				}
			},
			getTime() { //å¾—åˆ°æ—¶é—´å‡½æ•°
				this.videoTime = this.formatSeconds(this.timeNumber);
				// console.log(that.videoTime)
				var msg = []
				if (this.videoTime !== '') {
					msg = this.videoTime.split(':')
				}
				this.videoTimes = `${msg[0]>9?msg[0]:'0'+msg[0]}:${msg[1]>9?msg[1]:'0'+msg[1]}`;
			},
			formatSeconds(value) { //è·å–æ—¶é—´å‡½æ•°
				let theTime = parseInt(value); // ç§’
				let middle = 0; // åˆ†
				if (theTime > 60) {
					middle = parseInt(theTime / 60);
					theTime = parseInt(theTime % 60);
				}
				return `${middle>9?middle:middle}:${theTime>9?theTime:theTime}`;
			},
			playIngs(index) {
				//
			},
			moreVideo(index) {

			},
			toVideo(index) {

			},
			erweima() {

			},
			tozuozhe() {
				this.currents = 1 //ç‚¹å‡»å¤´åƒä»¥åå°±ä¼šåˆ‡æ¢
			},
			stop() {
				// console.log('stop')
			},
			scrolls(event) {
				this.isDragging = event.isDragging
				if (!event.isDragging) { //isDraggingï¼šåˆ¤æ–­ç”¨æˆ·æ˜¯ä¸æ˜¯åœ¨æ»‘åŠ¨ï¼Œæ»‘åŠ¨ï¼štrueï¼Œåœæ­¢æ»‘åŠ¨ï¼šfalseã€‚æˆ‘ä»¬è¦ç”¨æˆ·åœæ­¢æ»‘åŠ¨æ—¶æ‰ç»™ k èµ‹å€¼ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…å¾ˆå¤šéº»çƒ¦
					var i = Math.round(Math.abs(event.contentOffset.y) / (this.wHeight - this.deleteHeight +
						1)) //å…ˆç”¨ç»å¯¹å€¼å–å‡ºæ»‘åŠ¨çš„è·ç¦»ï¼Œç„¶åé™¤ä»¥å±å¹•é«˜åº¦ï¼Œå–ä¸€ä¸ªæ•´ï¼Œå°±çŸ¥é“ä½ ç°åœ¨æ»‘åŠ¨åˆ°å“ªä¸€ä¸ªè§†é¢‘äº†
					if (i !== this.k) { //è¿™é‡ŒåŠ åˆ¤æ–­æ˜¯å› ä¸ºè¿™ä¸ªæ–¹æ³•ä¼šæ‰§è¡Œå¾ˆå¤šæ¬¡ï¼Œä¼šé€ æˆé‡å¤è¯·æ±‚ï¼Œæ‰€ä»¥è¿™é‡Œå†™ä¸€ä¸ªé™åˆ¶
						clearTimeout(this.timers);
						this.timers = setTimeout(() => {
							this.k = i //åˆ¤æ–­äº†ç”¨æˆ·æ²¡æœ‰æ»‘åŠ¨ï¼Œç¡®è®¤äº†ç”¨æˆ·çš„ç¡®æ˜¯åœ¨çœ‹è¿™ä¸ªè§†é¢‘ï¼Œç„¶åå°±èµ‹å€¼å•¦
							this.dataList[this.k].state = 'play'
							console.log('æ­£åœ¨æ’­æ”¾ --> ç¬¬' + (this.k + 1) + 'ä¸ªè§†é¢‘ï½')
						}, 80)
					}
				}
			}, 
			getData() {
				var self = this;
				self.PageIndex++;
				
				var _orderBy = '';
				if(self.PageType == 'List'){
					if (self.CurrentSortIndex == 1) {
						_orderBy = 'Latest';
					} else if (self.CurrentSortIndex == 2) {
						_orderBy = 'Hottest';
					}else if (self.CurrentSortIndex == 0) {
						_orderBy = 'Random';
					}
				}
				
				var contentId = self.Microi.GetUrlQuery(self, 'ContentId');
				var _sortType = self.Microi.GetUrlQuery(self, 'SortType');
				if(_sortType){
					_orderBy = _sortType;
				}
				var neirongFL = self.Microi.GetUrlQuery(self, 'NeirongFL');
				
				self.Microi.ApiEngine.Run('get_short_video', {
					Id : contentId,
					_PageIndex : self.PageIndex,
					_SortType : _orderBy,
					NeirongFL : neirongFL,
				}, function(result) {
					if (self.Microi.CheckResult(result)) {
						var realResult = 
						{
							"data": []
						};
						result.Data.forEach(item => {
							realResult.data.push({
								...item,
								"_id": item.Id,
								"username": item.UserName,
								"href": self.Microi.FileServer + item.YulanT,//å¤´åƒ
								YulanT : self.Microi.FileServer + item.YulanT,//å°é¢
								"title": item.Biaoti,
								"msg": '',//self.ContentDetail.Biaoti,
								"state": "pause",
								"src": item.Path,
								"playNumber": 0,
								"pinlun": [],
								"playIng": false,
								"isShowimage": false,
								"isShowProgressBarTime": false,
								"isplay": true,
								"userID": item.UserId
							});
						});
						var msg = realResult.data;
						// 2.è¿™é‡ŒæŠŠè§†é¢‘æ·»åŠ åˆ°è§†é¢‘åˆ—è¡¨
						for (let i = 0; i < msg.length; i++) {
							self.dataList.push(msg[i])
						}
					}
				})
				// è¿™é‡Œå°±æ˜¯æ•°æ®åŠ è½½å®Œä»¥åå†å‘åç«¯å‘é€æ•°æ®çš„åœ°æ–¹
				// uni.request({
				// 	url: 'https://bdb24c6d-8c19-4f80-8e7e-c9c9f037f131.bspapp.com/video',
				// 	method: 'POST',
				// 	data:{
				// 		info: 'get_video'
				// 	},
				// 	success: (res) => {
				// 		var msg = res.data.data
				// 		for (let i = 0; i < msg.length; i++) {
				// 			this.dataList.push(msg[i])
				// 		}
				// 	}
				// })
			},
			get() {
				// è¿™ä¸ªæ–¹æ³•ä¸»è¦å°±æ˜¯ç”¨æ¥ç¬¬ä¸€æ¬¡è¿›å…¥è§†é¢‘æ’­æ”¾æ—¶ç”¨æ¥å¤„ç†çš„
				// this.dataList = userList;//è¿™ä¸ªå°±æ˜¯èµ‹å€¼åŠ è½½è§†é¢‘å•¦
				//by itdos.com
				var self = this;
				
				var _orderBy = '';
				if(self.PageType == 'List'){
					if (self.CurrentSortIndex == 1) {
						_orderBy = 'Latest';
					} else if (self.CurrentSortIndex == 2) {
						_orderBy = 'Hottest';
					}else if (self.CurrentSortIndex == 0) {
						_orderBy = 'Random';
					}
				}
				var contentId = self.Microi.GetUrlQuery(self, 'ContentId');
				var apiEngineKey = 'get_short_video';
				if(contentId){
					apiEngineKey = 'get_content_detail';
				}
				var _sortType = self.Microi.GetUrlQuery(self, 'SortType');
				if(_sortType){
					_orderBy = _sortType;
				}
				var neirongFL = self.Microi.GetUrlQuery(self, 'NeirongFL');
				self.Microi.ApiEngine.Run(apiEngineKey, {
					Id : contentId,
					_PageIndex : self.PageIndex,
					_SortType : _orderBy,
					NeirongFL : neirongFL,
				}, function(result) {
					if (self.Microi.CheckResult(result)) {
						var realResult = {
							"data": []
						};
						var videoList = [];
						if(self.PageType == 'List'){
							videoList = result.Data;
						}else{
							result.Data.WenjianDZ.forEach(item => {
								videoList.push({
									...result.Data,
									_Id : item.Id,
									Path : item.Path
								})
							})
							if(result.DataAppend.MoreShortVideo && result.DataAppend.MoreShortVideo.Code == 1){
								result.DataAppend.MoreShortVideo.Data.forEach(item => {
									videoList.push(item)
								})
							}
						}
						videoList.forEach(item => {
							realResult.data.push({
								...item,
								"_id": item._Id || item.Id,
								"username": item.UserName,
								"href": self.Microi.FileServer + item.YulanT, //å¤´åƒ
								YulanT: self.Microi.FileServer + item.YulanT, //å°é¢
								"title": item.Biaoti,
								"msg": '', //self.ContentDetail.Biaoti,
								"state": "pause",
								"like": 0,
								"like_n": 0,
								"sms_n": 0,
								"src": item.Path,
								"playNumber": 0,
								"pinlun": [],
								"playIng": false,
								"isShowimage": false,
								"isShowProgressBarTime": false,
								"isplay": true,
								"userID": item.UserId
							});
						});

						self.dataList = realResult.data;
						self.dataList[0].state = "play";
						setTimeout(() => {
							//è¿™é‡Œçš„å»¶è¿Ÿæ˜¯ä¸ºäº†é¿å…æ‰§è¡Œæ—¶é—´å¤ªå¿«è€Œç›´æ¥è·³è¿‡æ‰§è¡Œçš„ bug
							uni.createVideoContext(self.dataList[0]._id, this).seek(0)
							uni.createVideoContext(self.dataList[0]._id, this).play()
						}, 200)
						self.dataList[0].isplay = false
						setTimeout(() => {
							self.dataList[0].playIng = true
						}, 500)
						var p = 0;
						self.showPlay = true;
						setTimeout(() => {
							++p;
							self.dataList[p].isplay = true
							// uni.createVideoContext(this.dataList[p]._id,this).play()
							setTimeout(() => {
								uni.createVideoContext(self.dataList[p]._id, this).seek(0)
								uni.createVideoContext(self.dataList[p]._id, this).pause()
								console.log('é¢„åŠ è½½ç¬¬' + (p + 1) + 'ä¸ªè§†é¢‘ï¼š' + self.dataList[p]._id)
							}, 800)
						}, 50)
					}
				})
			},
			onpullingdown() {
				console.log('æ­£åœ¨ä¸‹æ‹‰åˆ·æ–°ï¼Œæ­¤æ—¶æ‰‹è¿˜åœ¨è§¦æ‘¸æ²¡æœ‰æ¾å¼€')
				this.refreshing = true
			},
			onrefresh() {
				console.log('ä¸‹æ‹‰åˆ·æ–°å®Œæ¯•ï¼Œæ­¤æ—¶æ‰‹æ¾å¼€äº†')
				setTimeout(() => {
					this.refreshing = false
				}, 1000)
			}, 
			// åŒå‡»ç‚¹èµæ•ˆæœ
			touchstartHover(event) {
				if (this.touchNum >= 1) {
					// console.log('åŒå‡» -- Xåæ ‡ï¼š'+ event.touches[0].screenX);
					// console.log('åŒå‡» -- Yåæ ‡ï¼š'+ event.touches[0].screenY);
					this.aixinLeft = event.touches[0].screenX - 50;
					this.aixinTop = event.touches[0].screenY - 50;
					this.isShowAixin = true;
					let max = 40;
					let min = -40;
					this.Rotate = Math.floor(Math.random() * (max - min + 1)) + min;
					setTimeout(() => {
						this.isShowAixin = false;
					}, 700)
					this.onTabItemTaps();
				}
			},
			//ç‚¹å‡»æ’­æ”¾&&æš‚åœ
			tapVideoHover(state, event) {
				this.dataList[this.k].isShowimage = false
				this.dataList[this.k].isShowProgressBarTime = false
				this.ProgressBarOpacity = 0.5
				this.dotWidth = 0
				console.log('state--', state);
				// 1.å¯ç”¨åŒå‡»ç‚¹èµ --- start
				this.touchNum++;
				setTimeout(() => {
					if (this.touchNum == 1) {
						if (state == 'play' || state == 'continue') {
							this.dataList[this.k].state = 'pause';
						} else {
							this.dataList[this.k].state = 'continue';
						}
						if (this.dataList[this.k].state == 'continue') {
							uni.createVideoContext(this.dataList[this.k]._id, this).play(); //æš‚åœä»¥åç»§ç»­æ’­æ”¾
							this.clearTime();
							setTimeout(() => {
								this.rotateX();
							}, 50)
						}
						if (this.dataList[this.k].state == 'pause') {
							uni.createVideoContext(this.dataList[this.k]._id, this).pause(); //æš‚åœä»¥åç»§ç»­æ’­æ”¾
							this.clearTime();
						}
					}
					if (this.touchNum >= 2) {
						this.doubleLike();
					}
					this.touchNum = 0;
				}, 200)
				// --------------- ending
				// 2. ä¸å¯ç”¨åŒå‡»ç‚¹èµ start
				// if(state=='play'||state=='continue'){
				// 	this.dataList[this.k].state = 'pause';
				// }else{
				// 	this.dataList[this.k].state = 'continue';
				// }
				// if(this.dataList[this.k].state == 'continue'){
				// 	uni.createVideoContext(this.dataList[this.k]._id,this).play();//æš‚åœä»¥åç»§ç»­æ’­æ”¾
				// }
				// if(this.dataList[this.k].state == 'pause'){
				// 	uni.createVideoContext(this.dataList[this.k]._id,this).pause();//æš‚åœä»¥åç»§ç»­æ’­æ”¾
				// }
				// --------------- ending
			},
			doubleLike() {
				if (this.dataList[this.k].like == false) {
					this.dataList[this.k].like_n += 1;
					this.dataList[this.k].like = true;
				}
				/*
				ç‚¹èµ
				*/
			},
			toComment(index) {
				// æ³¨æ„ç‚¹å‡»è¯„è®ºä¹‹åä¼šæ‰§è¡Œè¿™é‡Œ
				/*
				ï¼ˆ1ï¼‰å…ˆåŠ è½½ç¼“å†²
				ï¼ˆ2ï¼‰è·å–å½“å‰è§†é¢‘ ID ä¿¡æ¯
				ï¼ˆ3ï¼‰ğŸŒŸğŸŒŸğŸŒŸğŸŒŸé‡è¦ğŸŒŸğŸŒŸğŸŒŸğŸŒŸ
					- ä¸€å®šè¦è®°å¾—çœ‹ index.vue é‡Œé¢
					 uni.setStorageSync("user",this.peopleList[i]);
					 è¿™ä¸ªä¸œè¥¿ï¼Œç”¨äºå­˜å‚¨å½“å‰ç”¨æˆ·ä¿¡æ¯ã€‚åœ¨ æ’ä»¶é‡Œé¢ä¼šä½¿ç”¨åˆ°è¿™ä¸ªä¸œè¥¿ï¼Œ
					 è®°å¾—å†™ä¸€ä¸‹ã€‚
					 
				ï¼ˆ4ï¼‰æ‰“å¼€è¯„è®º
				*/
				uni.showToast({
					title: 'åŠ è½½ä¸­...',
					icon: 'none',
					position: 'bottom',
					duration: 300
				})
				uni.setStorageSync("videoID", this.dataList[index]._id);
				this.$refs.pinglun.open('bottom')
			},
			share() {
				var self = this;
				self.Microi.Tips('åˆ†äº«åŠŸèƒ½å¼€å‘ä¸­');
				// uni.showToast({
				// 	title: 'åˆ†äº«',
				// 	icon: 'none'
				// })
			},
			wxh5Video() {
				uni.navigateTo({
					url: '../wxh5previewVideo/wxh5previewVideo'
				})
			},
			previewVideo() {
				uni.navigateTo({
					url: '../previewVideo/previewVideo'
				})
			},
			toTwoVideo() {
				uni.navigateTo({
					url: '../new_index/new_index'
				})
			},
			tolistVideo() {
				uni.navigateTo({
					url: '../nvueSwiper/nvueSwiper'
				})
			},
			cLike(content) {
				var self = this;
				var isFavorite = content._IsFavorite;
				//åˆ¤æ–­æ˜¯å¦å·²ç™»é™†
				// if(!self.IsLogin){
				if(!self.Microi.IsLogin()){
					self.Microi.ConfirmTips('æ˜¯å¦å»ç™»å½•ï¼Ÿ', function(){
						uni.navigateTo({
							url: '/pages/common/login'
						})
					});
					return;
				}else{
					this.dataList[this.k]._IsFavorite = !this.dataList[this.k]._IsFavorite
					const video = this.dataList[this.k];
					isFavorite ? video.ShoucangL -= 1 : video.ShoucangL += 1;
					//æ·»åŠ æ”¶è—è®°å½•
					self.Microi.ApiEngine.Run('add_content_favorite', {
						Id : content.Id, //self.Microi.GetUrlQuery(self, 'ContentId'),
						Favorite : isFavorite ? 0 : 1
					}, function(result){
						if(self.Microi.CheckResult(result)){
							self.Microi.Tips(isFavorite ? 'å–æ¶ˆæ”¶è—æˆåŠŸï¼' : 'æ”¶è—æˆåŠŸï¼');
						}
					});
				}
				
				// this.dataList[this.k].like = !this.dataList[this.k].like
				// const video = this.dataList[this.k];
				// sss ? video.like_n -= 1 : video.like_n += 1;
				/*
				ç‚¹èµ
				*/
			},
			moveHandle() {},
			closeScrollview() {
				// ç‚¹å‡»è¯„è®ºé‡Œé¢çš„å‰å‰ï¼Œå°±ä¼šå…³é—­è¯„è®º
				this.$refs.pinglun.close();
			},
			onTabItemTaps() {
				// #ifdef APP-PLUS
				if (uni.getSystemInfoSync().platform == "ios") {
					let UIImpactFeedbackGenerator = plus.ios.importClass('UIImpactFeedbackGenerator');
					let impact = new UIImpactFeedbackGenerator();
					impact.prepare();
					impact.init(1);
					impact.impactOccurred();
				}
				if (uni.getSystemInfoSync().platform == "android") {
					uni.vibrateShort({
						success: () => {
							console.log('ç‚¹å‡»éœ‡åŠ¨');
						}
					});
				}
				// #endif
			}
		}
	}
</script>
<style lang="scss">
	/*2023-12-22æ–°å¢å…¼å®¹æ€§å¤„ç†*/
	view,
	image,
	input,
	scroll-view,
	swiper,
	swiper-item,
	text,
	textarea,
	video {
		display: block;
		flex-direction: unset;
		flex-shrink: unset;
		border: unset;
	}

	text {
		display: unset;
	}

	.container {
		background-color: #000000;
	}

	.short-video {
		.tn-custom-nav-bar__bar{
			background-color: transparent !important;
		}
		.item {
			/* width : 750rpx; */
			background-color: #000000;
			position: relative;
		}
		/* èƒ¶å›Š*/
		.tn-custom-nav-bar__back {
			width: 100%;
			height: 100%;
			position: relative;
			display: flex;
			justify-content: space-evenly;
			align-items: center;
			box-sizing: border-box;
			background-color: rgba(0, 0, 0, 0.15);
			border-radius: 1000rpx;
			border: 1rpx solid rgba(255, 255, 255, 0.5);
			color: #FFFFFF;
			font-size: 18px;
		
			.icon {
				display: block;
				flex: 1;
				margin: auto;
				text-align: center;
			}
		
			&:before {
				content: " ";
				width: 1rpx;
				height: 110%;
				position: absolute;
				top: 22.5%;
				left: 0;
				right: 0;
				margin: auto;
				transform: scale(0.5);
				transform-origin: 0 0;
				pointer-events: none;
				box-sizing: border-box;
				opacity: 0.7;
				background-color: #FFFFFF;
			}
		}
		
		.videoHover {
			position: absolute;
			top: 0;
			left: 0;
			flex: 1;
			background-color: rgba(0, 0, 0, 0.1);
			justify-content: center;
			align-items: center;

			/* border-style: dashed;
			border-color: #DD524D;
			border-width: 1px; */
		}

		.playState {
			width: 160rpx;
			height: 160rpx;
			opacity: 0.2;
		}

		.userInfo {
			position: absolute;
			bottom: 80px;
			right: 10px;
			flex-direction: column;
			opacity: 0.8;
		}

		.userAvatar {
			border-radius: 500%;
			margin-bottom: 15px;
			border-style: solid;
			border-width: 2px;
			border-color: #ffffff;
		}

		.userAvatar {
			width: 100rpx;
			height: 100rpx;
		}

		.likeIco,
		.shareIco,
		.commentIco {
			width: 60rpx;
			height: 60rpx;
			margin-top: 15px;
		}

		.likeNum,
		.commentNum,
		.shareTex {
			color: #ffffff;
			font-size: 30rpx;
			text-align: center;
			margin: 5px;
		}

		.likeNumActive {
			color: red;
		}

		.content {
			opacity: 0.8;
			width: 610rpx;
			z-index: 99;
			position: absolute;
			// bottom: 15px;
			/* background-color: #007AFF; */
			/* justify-content: center; */
			left: 15px;
			padding: 15rpx;
			flex-direction: column;
			justify-content: flex-start;
			color: #ffffff;
			max-height: 90rpx;
			overflow: hidden;
			text-overflow: ellipsis;
			// margin-bottom: 15rpx;  
		}
		
		/*
		nvue é¡µé¢ä¸æ”¯æŒ css safe-area-***å¸¸é‡ï¼Œå¯ä»¥ä½¿ç”¨ uni.getSystemInfo è·å– safeAreaInsets åŠ¨æ€è®¾ç½®åˆ° style å±æ€§ã€‚
		æ³¨æ„ï¼šä½¿ç”¨äº†pages.jsoné‡Œçš„åŸç”Ÿtabbarï¼Œä¸ç®¡manifesté‡Œå®‰å…¨åŒºè®¾ç½®å¦‚ä½•ï¼Œåœ¨tabbarä¸‹æ–¹éƒ½ä¼šç•™å‡ºç©ºéš™ã€‚
		.safe-bottom{
			// bottom: calc(env(safe-area-inset-bottom) + 20px);
			bottom: calc(env(safe-area-inset-bottom) + 0px);
			// bottom: calc(constant(safe-area-inset-bottom) + 20px);
			bottom: calc(constant(safe-area-inset-bottom) + 0px);
		}*/
		.bottom-0px{
			bottom: 0;
		}

		.userName {
			font-size: 26rpx;
			color: #ffffff;
			// margin-top: 80upx;
		}

		.words {
			margin-top: 10rpx;
			font-size: 30rpx;
			color: #ffffff;
		}

		.root {
			/* background-color: #000000; */
			background-color: #00ffff;
		}
	}
</style>