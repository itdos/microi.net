# AI代写接口引擎
>* 使用`AI`快速学习Microi吾码的`V8接口引擎`用法、以及`数据库`架构，直接生成`接口引擎代码`，准确率高达`99%`左右
>* 如果是`在线AI`，文中提到的`.md`文件、`.db`文件均可通过在线上传到`AI`进行学习

## 让AI开始学习
```
当前项目是开源低代码平台-Microi吾码的官方文档MD源码：
1、我需要你先学习Microi吾码的V8引擎文档（不用学习前端，因为前端V8函数不能用在后端V8接口引擎）:
	【docs/doc/v8-engine/api-engine.md】、
	【docs/doc/v8-engine/v8-server.md】、
	【docs/doc/v8-engine/form-engine.md】、
	【docs/doc/v8-engine/where.md】。
2、现在帮我写一个接口引擎，用于获取【吾码】数据库的：
	【diy_table（数据库所有表及说明）表，取所有数据，字段Name为表名】、
	【diy_field（数据库所有字段及说明）表，取所有数据，字段Name为字段名，字段TableId为关联diy_table表的Id】、
	【sys_config（系统设置）表，取所有数据，里面有[全局服务器端V8引擎]函数，字段名GlobalServerV8Code】、
	【sys_menu（菜单模块）表，取所有数据】，
	写的接口引擎代码放到【ai-helper/database/microi/get-db.js】文件，
	你不用关心【ai-helper/database/】下除[microi]以外的其它文件夹，是别的项目，
	同时帮我更新【ai-helper/README.md】，方便其它开发者知道如何用AI来辅助开发接口引擎业务逻辑。
3、然后我会把上面拿到的数据全部给你放到【ai-helper/database/microi/db.json】，
	你不用关心【ai-helper/database】下除[microi]以外的其它db.json，是别的项目，
	本次你需要分析了解整个【吾码】数据库的结构。
4、等你了解完数据库结构后，我会给你描述业务逻辑，然后让你帮我写V8接口引擎代码。
```

## 给AI数据
```
我将你给我的接口引擎执行成功了，返回的json数据我放在【ai-helper/database/microi/db.json】文件，
请你先全面学习分析一下数据库结构设计，掌握表与表之间的关系，字段的含义等等，
因为接下来我需要给你描述业务逻辑，然后让你帮我写接口引擎代码。
```

## 描述业务逻辑
```
现在讲我需要实现的业务逻辑，请帮我写好相关接口引擎，
请存放接口引擎的js文件到【ai-helper/database/renyi/】下，我的业务需求是：

1、假如你没理解到我说的业务逻辑，或者我描述的有问题，请不要先生成接口引擎代码，而是先跟我沟通，
	我来重新补充描述，确定没有任何疑问后再生成接口引擎代码，
	我要保证的是尽量代码一次性执行成功，而不是一直试错。
2、我描述的所有表的结构、字段名，都在db.json文件里，您需要从db.json中提取表的结构及说明。
3、你要考虑到性能问题，一些表的数据量可能较大，不能在大数据循环里面多次再次查询数据库，
	应该是先获取所有数据，在循环的内部从内存中获取数据做业务判断，
	并且需要利用到V8.Cache来更新当前处理进度，再写一个接口引擎通过redis来获取当前进度，
	注意Cache的Key值需要以`Microi:{V8.OsClient}:`开头，防止租户缓存数据错乱。
4、V8.FormEngine不支持关联表查询，若到用到特殊的sql语句，请使用V8.Db.FromSql() 

4、我要在菜单【计划排产（APS） - 工作日历（表diy_gzrl）】中实现【批量排班】功能，写一个接口引擎，我前端会给你传入：
	选择的任务栈（表diy_APSsczx）【JSON数据，数组类型】、
	选择的工作日【格式：["星期一", "星期二"]，数组类型】、
	选择的一个月份【格式['2026-02', '2026-03']，数组类型】、
	每天工作时长【类型int数字，单位小时】、
	日历数据【自动根据选择的月份、工作日推算出来的所有日历数据，格式：['2026-02-02', '2026-02-03', '2026-02-04']，数组类型】，
	你需要根据传入的【日历数据】，自动生成【diy_gzrl (工作日历) 】表数据，请开始吧！
-----------------------------------------------------------------------------------------------------------------------
1、我要在菜单【生产主计划（MPS）（表diy_scxqdd1766715873794）】实现【引入】，写一个接口引擎：
			数据来源于【生产派工-生产需求订单（表diy_scxqdd）】的数据，条件是：
			未派工数（WeipaiCS）>0、
			物料编码分类（字段）=成品（注意【生产主计划（MPS）】只有）、
			ERP是否关闭（）=0、
			被合并的需求订单不进来（HebingID字段为null或空字符串的不同步）、
			然后插入进来，如果已存在，若【生产需求订单】的未派工数（WeipaiCS）有变更，则执行修改，否则跳过。

2、在调用【引入】接口前，需要通过V8.Cache判断当前是否正在引入，是的话则返回当前正在引入的错误！
3、在调用【引入】接口前，首先要全量更新未派工数，根据 【生产管理-生产需求订单】
4、
```

## 将AI写的代码放到平台运行
>* 经博主测试，只要描述足够准确，`接口引擎代码`正确率几乎`100%`